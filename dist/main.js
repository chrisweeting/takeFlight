/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/styles/index.css":
/*!******************************!*\
  !*** ./src/styles/index.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _styles_index_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/index.css */ "./src/styles/index.css");

var titleCard = document.querySelector(".title-card");
var canvas = document.getElementById("flyCanvas");
var ctx = canvas.getContext("2d");
var rightPressed = false;
var leftPressed = false;
var spacePressed = false;
var turnX = 0;
var y = 0;
var score = 0;
var hiScore = JSON.parse(localStorage.getItem("hiScore")) || 0;
var rotation = 0;
var counter = 0;
var cactiColors = ["#076d07", "#2e7a2f", "#a1d6a2", "#5ef75e"];
var cacti = [];
var birdImg = new Image();
birdImg.src = "src/assets/Take Flight-05.png";
var controls = new Image();
controls.src = "src/assets/keys.png";
var cactus1 = new Image();
cactus1.src = "src/assets/Take Flight-06.png";
var cactus2 = new Image();
cactus2.src = "src/assets/Take Flight-07.png";
var cactus3 = new Image();
cactus3.src = "src/assets/Take Flight-08.png";
var cactus4 = new Image();
cactus4.src = "src/assets/Take Flight-09.png";
var cactus5 = new Image();
cactus5.src = "src/assets/Take Flight-10.png";
var cactus6 = new Image();
cactus6.src = "src/assets/Take Flight-11.png";
var cactus7 = new Image();
cactus7.src = "src/assets/Take Flight-12.png";
var cactus8 = new Image();
cactus8.src = "src/assets/Take Flight-13.png";
var cloud1 = new Image();
cloud1.src = "src/assets/Take Flight-03.png";
var cloud2 = new Image();
cloud2.src = "src/assets/Take Flight-04.png";
var cactusBin = [{
  img: cactus1,
  width: 180,
  height: 300
}, {
  img: cactus2,
  width: 180,
  height: 300
}, {
  img: cactus3,
  width: 150,
  height: 250
}, {
  img: cactus4,
  width: 150,
  height: 140
}, {
  img: cactus5,
  width: 100,
  height: 100
}, {
  img: cactus6,
  width: 170,
  height: 150
}, {
  img: cactus7,
  width: 100,
  height: 150
}, {
  img: cactus8,
  width: 80,
  height: 280
}];
var cloudPositions = {
  cloud1: 100,
  cloud2: -330,
  cloud3: -730,
  cloud4: 700
};
ctx.translate(640, 360);

var keyDownHandler = function keyDownHandler(e) {
  if (e.key == "Right" || e.key == "ArrowRight") {
    rightPressed = true;
  } else if (e.key == "Left" || e.key == "ArrowLeft") {
    leftPressed = true;
  } else if (e.key === ' ' || e.key === 'Spacebar') {
    spacePressed = true;
  }
};

var keyUpHandler = function keyUpHandler(e) {
  if (e.key == "Right" || e.key == "ArrowRight") {
    rightPressed = false;
  } else if (e.key == "Left" || e.key == "ArrowLeft") {
    leftPressed = false;
  } else if (e.key === ' ' || e.key === 'Spacebar') {
    // restart();
    animate();
    animate();
    titleCard.classList.add("hidden");
    spacePressed = false;
  }
};

document.addEventListener("keydown", keyDownHandler, false);
document.addEventListener("keyup", keyUpHandler, false);

var drawHorizon = function drawHorizon() {
  ctx.beginPath();
  ctx.rect(-1000, y, 2000, 1500);
  ctx.fillStyle = "#e8e2a4";
  ctx.fill();
  ctx.closePath();
}; // const drawRotation = () => {
//   ctx.font = "16px Arial";
//   ctx.fillStyle = "#0095DD";
//   ctx.fillText("Rotation: " + rotation, 1, 1);
// };


var drawScore = function drawScore() {
  if (score > 4000) {
    ctx.font = "18px Helvetica";
    ctx.fillStyle = "#0095DD";
  } else {
    ctx.font = "16px Helvetica";
    ctx.fillStyle = "#0095DD";
  }

  ctx.fillText("Score: " + score, 3, -3);
};

var drawHiScore = function drawHiScore() {
  if (typeof hiScore != "number") hiScore = hiScore.number;

  if (score > hiScore) {
    hiScore = score;
    localStorage.setItem('hiScore', JSON.stringify({
      number: Number(score)
    }));
  }

  ctx.font = "16px Helvetica";
  ctx.fillStyle = "red";
  ctx.fillText("High Score: " + hiScore, 3, -20);
};

var rotateCam = function rotateCam(num) {
  if (num < 100 && num > 0) {
    return ctx.rotate(Math.PI / 180 * 0.05);
  } else if (num > -100 && num < 0) {
    return ctx.rotate(Math.PI / 180 * -0.05);
  }
};

var drawBird = function drawBird() {
  ctx.save();
  ctx.translate(0, 150);
  ctx.rotate(Math.PI / 180 * -(rotation * 0.5 / 4)); // ctx.shadowBlur = 50;
  // ctx.shadowColor = 'black';
  // ctx.shadowOffsetY = 80;

  ctx.drawImage(birdImg, -125, -50, 250, 100); // ctx.beginPath();
  // // ctx.rect(-60, -10, 120, 20);
  // ctx.rect(-125, -50, 250, 100);
  // ctx.fillStyle = "blue";
  // ctx.fill();
  // ctx.closePath();

  ctx.restore();
};

var drawCactus = function drawCactus(x, y, w, h, color, img) {
  ctx.save(); // const place = -30 + x;
  // const width = 20 + w;
  // const height = 60 + h;
  // const growingX = place + gX;
  // const growingY =

  ctx.drawImage(img, x, y, w, h); // ctx.beginPath();
  // ctx.rect(x, y, w, h);
  // ctx.fillStyle = color;
  // ctx.fill();
  // ctx.closePath();

  ctx.restore();
};

var spawnCacti = function spawnCacti() {
  var x = Math.ceil(Math.random() * 840) * (Math.round(Math.random()) ? 1 : -1);
  var color = cactiColors[Math.floor(Math.random() * cactiColors.length)];
  var _cactusBin$Math$floor = cactusBin[Math.floor(Math.random() * cactusBin.length)],
      width = _cactusBin$Math$floor.width,
      height = _cactusBin$Math$floor.height,
      img = _cactusBin$Math$floor.img;
  cacti.unshift({
    x: x,
    y: -100,
    width: width,
    height: height,
    color: color,
    hInitial: 0,
    yOrd: 0,
    img: img
  }); //assign default variables store them in objects
};

var drawClouds = function drawClouds() {
  // ctx.beginPath();
  // ctx.arc(cloud1.sec1, -200, 50, 0, 2 * Math.PI);
  // ctx.arc(cloud1.sec2, -170, 40, 0, 2 * Math.PI);
  // ctx.arc(cloud1.sec3, -150, 30, 0, 2 * Math.PI);
  // ctx.fillStyle = "#add6d8";
  // ctx.fill();
  ctx.drawImage(cloud1, cloudPositions.cloud1, -200, 300, 200);
  ctx.drawImage(cloud2, cloudPositions.cloud2, -300, 300, 150);
  ctx.drawImage(cloud1, cloudPositions.cloud3, -200, 300, 200);
  ctx.drawImage(cloud2, cloudPositions.cloud4, -300, 300, 150); // ctx.beginPath();
  // ctx.arc(cloud2.sec1, -70, 40, 0, 2 * Math.PI);
  // ctx.arc(cloud2.sec2, -100, 40, 0, 2 * Math.PI);
  // ctx.arc(cloud2.sec3, -80, 50, 0, 2 * Math.PI);
  // ctx.fillStyle = "#add6d8";
  // ctx.fill();
};

var moveClouds = function moveClouds(num) {
  for (var cloud in cloudPositions) {
    var pos = cloudPositions[cloud];
    pos += num;
  }
};

var filterCacti = function filterCacti() {
  cacti = cacti.filter(function (cactus) {
    return cactus.y < 550;
  });
};

var animate = function animate() {
  ctx.clearRect(-1000, -1000, 2000, 2000);
  filterCacti();
  drawHorizon();

  if (hiScore < 200 && score > 100 && score < 700) {
    ctx.drawImage(controls, -100, 200, 200, 70);
  }

  drawClouds(); // drawRotation();

  drawScore();
  drawHiScore();
  drawBird(); //cactus spawn frequency

  if (counter === 55) {
    spawnCacti();
    counter = 0;
  }

  cacti.forEach(function (cactus) {
    cactus.x += turnX;
    var h = cactus.height;

    if (cactus.hInitial < cactus.height) {
      cactus.hInitial += 1;
      h = cactus.hInitial;
      cactus.yOrd -= 1;
    } else {
      cactus.yOrd += 1.49;
      cactus.y += 1.49; // cactus.width += cactus.width * 0.0014;
      // cactus.height += cactus.height * 0.0014;
      // cactus.height *= 1.0014;

      cactus.hInitial = cactus.height;
    } //cactus removal animation and yOrd speed control
    // if (cactus.width > 50) {
    //   cactus.yOrd += 1;
    //   cactus.height -= 1;
    // } else if (cactus.width > 27) {
    //   cactus.yOrd += 1;
    //   // cactus.color = "black";
    // } else if (cactus.width > 23) {
    //   cactus.yOrd += 0.5;
    //   // cactus.color = "red";
    // }


    if (cactus.y > 0) {// cactus.color = "red";
    } // cactus path change to account for perspective


    if (cactus.y > -90) {
      if (cactus.x > 100) {
        cactus.x += 0.55;
      } else if (cactus.x < -100) {
        cactus.x -= 0.55;
      } else if (cactus.x > 60) {
        cactus.x += 0.2;
      } else if (cactus.x < -60) {
        cactus.x -= 0.2;
      } else if (cactus.x > 80) {
        cactus.x += 0.4;
      } else if (cactus.x < -80) {
        cactus.x -= 0.4;
      } else if (cactus.x > 40) {
        cactus.x += 0.1;
      } else if (cactus.x < -40) {
        cactus.x -= 0.1;
      } else if (cactus.x > 20) {
        cactus.x += 0.05;
      } else if (cactus.x < -20) {
        cactus.x -= 0.05;
      }
    } // let cactusHit = cactus.y - ( h/5 );


    var cactusHit = cactus.y;
    var leftHit = cactus.x + cactus.width / 2; // if ((cactusHit < 10 && cactusHit > 5) && (cactus.x > -225 && cactus.x < 100)) {

    if (cactus.y < 10 && cactus.y > 5 && leftHit > -125 && leftHit < 125) {
      // cactus.color = "purple";
      // clearInterval(interval);
      document.location.reload();
    }

    drawCactus(cactus.x, cactus.yOrd, cactus.width, h, cactus.color, cactus.img);
  });

  if (leftPressed) {
    if (turnX <= 0) {
      turnX += 0.055;
    } else if (turnX > 0 && turnX < 1.7) {
      turnX += 0.035;
    }

    moveClouds(0.61); //change value to shift cloud x position  

    if (rotation < 100 && rotation >= 0) {
      rotation += 1;
      rotateCam(rotation);
    } else if (rotation < 0) {
      rotation += 1;
      ctx.rotate(Math.PI / 180 * 0.05);
    }
  } else if (rightPressed) {
    if (turnX >= 0) {
      turnX -= 0.055;
    } else if (turnX < 0 && turnX > -1.7) {
      turnX -= 0.35;
    }

    moveClouds(-0.61); //change value to shift cloud x position 

    if (rotation > -100 && rotation <= 0) {
      rotation -= 1;
      rotateCam(rotation);
    } else if (rotation > 0) {
      rotation -= 1;
      ctx.rotate(Math.PI / 180 * -0.05);
    }
  } else {
    if (rotation > 0) {
      rotation -= 1;
      ctx.rotate(Math.PI / 180 * -0.05);
    } else if (rotation < 0) {
      rotation += 1;
      ctx.rotate(Math.PI / 180 * 0.05);
    } else {
      turnX = 0;
    }
  }

  counter += 1;
  score += 1;
  requestAnimationFrame(animate);
}; // const interval = setInterval(animate, 10);
// animate();
// if (spacePressed) {
//   interval();
// }
//on keydown the horizon rotates to a certain point
//on keyup the horizon returns to its initial state
//as the horizon shifts enemy elements/obstacles shift too
//they also add or decrease their x position depending on the key direction
//variable for time elapsed === high score
//high score saved and displayed
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YWtlX2ZsaWdodC8uL3NyYy9zdHlsZXMvaW5kZXguY3NzIiwid2VicGFjazovL3Rha2VfZmxpZ2h0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3Rha2VfZmxpZ2h0L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vdGFrZV9mbGlnaHQvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsidGl0bGVDYXJkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FudmFzIiwiZ2V0RWxlbWVudEJ5SWQiLCJjdHgiLCJnZXRDb250ZXh0IiwicmlnaHRQcmVzc2VkIiwibGVmdFByZXNzZWQiLCJzcGFjZVByZXNzZWQiLCJ0dXJuWCIsInkiLCJzY29yZSIsImhpU2NvcmUiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicm90YXRpb24iLCJjb3VudGVyIiwiY2FjdGlDb2xvcnMiLCJjYWN0aSIsImJpcmRJbWciLCJJbWFnZSIsInNyYyIsImNvbnRyb2xzIiwiY2FjdHVzMSIsImNhY3R1czIiLCJjYWN0dXMzIiwiY2FjdHVzNCIsImNhY3R1czUiLCJjYWN0dXM2IiwiY2FjdHVzNyIsImNhY3R1czgiLCJjbG91ZDEiLCJjbG91ZDIiLCJjYWN0dXNCaW4iLCJpbWciLCJ3aWR0aCIsImhlaWdodCIsImNsb3VkUG9zaXRpb25zIiwiY2xvdWQzIiwiY2xvdWQ0IiwidHJhbnNsYXRlIiwia2V5RG93bkhhbmRsZXIiLCJlIiwia2V5Iiwia2V5VXBIYW5kbGVyIiwiYW5pbWF0ZSIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkcmF3SG9yaXpvbiIsImJlZ2luUGF0aCIsInJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsIiwiY2xvc2VQYXRoIiwiZHJhd1Njb3JlIiwiZm9udCIsImZpbGxUZXh0IiwiZHJhd0hpU2NvcmUiLCJudW1iZXIiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiTnVtYmVyIiwicm90YXRlQ2FtIiwibnVtIiwicm90YXRlIiwiTWF0aCIsIlBJIiwiZHJhd0JpcmQiLCJzYXZlIiwiZHJhd0ltYWdlIiwicmVzdG9yZSIsImRyYXdDYWN0dXMiLCJ4IiwidyIsImgiLCJjb2xvciIsInNwYXduQ2FjdGkiLCJjZWlsIiwicmFuZG9tIiwicm91bmQiLCJmbG9vciIsImxlbmd0aCIsInVuc2hpZnQiLCJoSW5pdGlhbCIsInlPcmQiLCJkcmF3Q2xvdWRzIiwibW92ZUNsb3VkcyIsImNsb3VkIiwicG9zIiwiZmlsdGVyQ2FjdGkiLCJmaWx0ZXIiLCJjYWN0dXMiLCJjbGVhclJlY3QiLCJmb3JFYWNoIiwiY2FjdHVzSGl0IiwibGVmdEhpdCIsImxvY2F0aW9uIiwicmVsb2FkIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7Ozs7O1VDQUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7Ozs7V0N0QkE7V0FDQTtXQUNBO1dBQ0Esc0RBQXNELGtCQUFrQjtXQUN4RTtXQUNBLCtDQUErQyxjQUFjO1dBQzdELEU7Ozs7Ozs7Ozs7OztBQ05BO0FBRUEsSUFBTUEsU0FBUyxHQUFHQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsYUFBdkIsQ0FBbEI7QUFDQSxJQUFNQyxNQUFNLEdBQUdGLFFBQVEsQ0FBQ0csY0FBVCxDQUF3QixXQUF4QixDQUFmO0FBQ0EsSUFBTUMsR0FBRyxHQUFHRixNQUFNLENBQUNHLFVBQVAsQ0FBa0IsSUFBbEIsQ0FBWjtBQUNBLElBQUlDLFlBQVksR0FBRyxLQUFuQjtBQUNBLElBQUlDLFdBQVcsR0FBRyxLQUFsQjtBQUNBLElBQUlDLFlBQVksR0FBRyxLQUFuQjtBQUNBLElBQUlDLEtBQUssR0FBRyxDQUFaO0FBQ0EsSUFBSUMsQ0FBQyxHQUFHLENBQVI7QUFDQSxJ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Q0FBWjtBQUNBZ0QsZUFBUyxDQUFDaEQsUUFBRCxDQUFUO0FBQ0QsS0FIRCxNQUdPLElBQUlBLFFBQVEsR0FBRyxDQUFmLEVBQWtCO0FBQ3ZCQSxjQUFRLElBQUksQ0FBWjtBQUNBYixTQUFHLENBQUMrRCxNQUFKLENBQVlDLElBQUksQ0FBQ0MsRUFBTCxHQUFVLEdBQVgsR0FBa0IsQ0FBQyxJQUE5QjtBQUNEO0FBQ0YsR0FkTSxNQWNBO0FBQ0wsUUFBSXBELFFBQVEsR0FBRyxDQUFmLEVBQWtCO0FBQ2hCQSxjQUFRLElBQUksQ0FBWjtBQUNBYixTQUFHLENBQUMrRCxNQUFKLENBQVlDLElBQUksQ0FBQ0MsRUFBTCxHQUFVLEdBQVgsR0FBa0IsQ0FBQyxJQUE5QjtBQUNELEtBSEQsTUFHTyxJQUFJcEQsUUFBUSxHQUFHLENBQWYsRUFBa0I7QUFDdkJBLGNBQVEsSUFBSSxDQUFaO0FBQ0FiLFNBQUcsQ0FBQytELE1BQUosQ0FBWUMsSUFBSSxDQUFDQyxFQUFMLEdBQVUsR0FBWCxHQUFrQixJQUE3QjtBQUNELEtBSE0sTUFHQTtBQUNMNUQsV0FBSyxHQUFHLENBQVI7QUFDRDtBQUNGOztBQUNEUyxTQUFPLElBQUksQ0FBWDtBQUNBUCxPQUFLLElBQUksQ0FBVDtBQUNBMEYsdUJBQXFCLENBQUN0RCxPQUFELENBQXJCO0FBQ0QsQ0F0SUQsQyxDQXlJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUk7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBLGdDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0ICcuL3N0eWxlcy9pbmRleC5jc3MnO1xuXG5jb25zdCB0aXRsZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRpdGxlLWNhcmRcIik7XG5jb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZseUNhbnZhc1wiKTtcbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5sZXQgcmlnaHRQcmVzc2VkID0gZmFsc2U7XG5sZXQgbGVmdFByZXNzZWQgPSBmYWxzZTtcbmxldCBzcGFjZVByZXNzZWQgPSBmYWxzZTtcbmxldCB0dXJuWCA9IDA7XG5sZXQgeSA9IDA7XG5sZXQgc2NvcmUgPSAwO1xubGV0IGhpU2NvcmUgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiaGlTY29yZVwiKSkgfHwgMDtcbmxldCByb3RhdGlvbiA9IDA7XG5sZXQgY291bnRlciA9IDA7XG5sZXQgY2FjdGlDb2xvcnMgPSBbXCIjMDc2ZDA3XCIsIFwiIzJlN2EyZlwiLCBcIiNhMWQ2YTJcIiwgXCIjNWVmNzVlXCJdO1xubGV0IGNhY3RpID0gW107XG5cblxuY29uc3QgYmlyZEltZyA9IG5ldyBJbWFnZSgpO1xuYmlyZEltZy5zcmMgPSBcInNyYy9hc3NldHMvVGFrZSBGbGlnaHQtMDUucG5nXCI7XG5cbmNvbnN0IGNvbnRyb2xzID0gbmV3IEltYWdlKCk7XG5jb250cm9scy5zcmMgPSBcInNyYy9hc3NldHMva2V5cy5wbmdcIjtcblxuY29uc3QgY2FjdHVzMSA9IG5ldyBJbWFnZSgpO1xuY2FjdHVzMS5zcmMgPSBcInNyYy9hc3NldHMvVGFrZSBGbGlnaHQtMDYucG5nXCI7XG5cbmNvbnN0IGNhY3R1czIgPSBuZXcgSW1hZ2UoKTtcbmNhY3R1czIuc3JjID0gXCJzcmMvYXNzZXRzL1Rha2UgRmxpZ2h0LTA3LnBuZ1wiO1xuXG5jb25zdCBjYWN0dXMzID0gbmV3IEltYWdlKCk7XG5jYWN0dXMzLnNyYyA9IFwic3JjL2Fzc2V0cy9UYWtlIEZsaWdodC0wOC5wbmdcIjtcblxuY29uc3QgY2FjdHVzNCA9IG5ldyBJbWFnZSgpO1xuY2FjdHVzNC5zcmMgPSBcInNyYy9hc3NldHMvVGFrZSBGbGlnaHQtMDkucG5nXCI7XG5cbmNvbnN0IGNhY3R1czUgPSBuZXcgSW1hZ2UoKTtcbmNhY3R1czUuc3JjID0gXCJzcmMvYXNzZXRzL1Rha2UgRmxpZ2h0LTEwLnBuZ1wiO1xuXG5jb25zdCBjYWN0dXM2ID0gbmV3IEltYWdlKCk7XG5jYWN0dXM2LnNyYyA9IFwic3JjL2Fzc2V0cy9UYWtlIEZsaWdodC0xMS5wbmdcIjtcblxuY29uc3QgY2FjdHVzNyA9IG5ldyBJbWFnZSgpO1xuY2FjdHVzNy5zcmMgPSBcInNyYy9hc3NldHMvVGFrZSBGbGlnaHQtMTIucG5nXCI7XG5cbmNvbnN0IGNhY3R1czggPSBuZXcgSW1hZ2UoKTtcbmNhY3R1czguc3JjID0gXCJzcmMvYXNzZXRzL1Rha2UgRmxpZ2h0LTEzLnBuZ1wiO1xuXG5jb25zdCBjbG91ZDEgPSBuZXcgSW1hZ2UoKTtcbmNsb3VkMS5zcmMgPSBcInNyYy9hc3NldHMvVGFrZSBGbGlnaHQtMDMucG5nXCI7XG5cbmNvbnN0IGNsb3VkMiA9IG5ldyBJbWFnZSgpO1xuY2xvdWQyLnNyYyA9IFwic3JjL2Fzc2V0cy9UYWtlIEZsaWdodC0wNC5wbmdcIjtcblxuY29uc3QgY2FjdHVzQmluID0gW1xuICB7IGltZzogY2FjdHVzMSwgd2lkdGg6IDE4MCwgaGVpZ2h0OiAzMDAgfSxcbiAgeyBpbWc6IGNhY3R1czIsIHdpZHRoOiAxODAsIGhlaWdodDogMzAwIH0sXG4gIHsgaW1nOiBjYWN0dXMzLCB3aWR0aDogMTUwLCBoZWlnaHQ6IDI1MCB9LFxuICB7IGltZzogY2FjdHVzNCwgd2lkdGg6IDE1MCwgaGVpZ2h0OiAxNDAgfSxcbiAgeyBpbWc6IGNhY3R1czUsIHdpZHRoOiAxMDAsIGhlaWdodDogMTAwIH0sXG4gIHsgaW1nOiBjYWN0dXM2LCB3aWR0aDogMTcwLCBoZWlnaHQ6IDE1MCB9LFxuICB7IGltZzogY2FjdHVzNywgd2lkdGg6IDEwMCwgaGVpZ2h0OiAxNTAgfSxcbiAgeyBpbWc6IGNhY3R1czgsIHdpZHRoOiA4MCwgaGVpZ2h0OiAyODAgfSxcbl07XG5cbmNvbnN0IGNsb3VkUG9zaXRpb25zID0ge1xuICBjbG91ZDE6IDEwMCxcbiAgY2xvdWQyOiAtMzMwLFxuICBjbG91ZDM6IC03MzAsXG4gIGNsb3VkNDogNzAwLFxufTtcblxuXG5jdHgudHJhbnNsYXRlKDY0MCwgMzYwKTtcblxuXG5cbmNvbnN0IGtleURvd25IYW5kbGVyID0gKGUpID0+IHtcbiAgaWYgKGUua2V5ID09IFwiUmlnaHRcIiB8fCBlLmtleSA9PSBcIkFycm93UmlnaHRcIikge1xuICAgIHJpZ2h0UHJlc3NlZCA9IHRydWU7XG4gIH1cbiAgZWxzZSBpZiAoZS5rZXkgPT0gXCJMZWZ0XCIgfHwgZS5rZXkgPT0gXCJBcnJvd0xlZnRcIikge1xuICAgIGxlZnRQcmVzc2VkID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChlLmtleSA9PT0gJyAnIHx8IGUua2V5ID09PSAnU3BhY2ViYXInKSB7XG4gICAgc3BhY2VQcmVzc2VkID0gdHJ1ZTtcbiAgfVxufTtcblxuY29uc3Qga2V5VXBIYW5kbGVyID0gKGUpID0+IHtcbiAgaWYgKGUua2V5ID09IFwiUmlnaHRcIiB8fCBlLmtleSA9PSBcIkFycm93UmlnaHRcIikge1xuICAgIHJpZ2h0UHJlc3NlZCA9IGZhbHNlO1xuICB9XG4gIGVsc2UgaWYgKGUua2V5ID09IFwiTGVmdFwiIHx8IGUua2V5ID09IFwiQXJyb3dMZWZ0XCIpIHtcbiAgICBsZWZ0UHJlc3NlZCA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKGUua2V5ID09PSAnICcgfHwgZS5rZXkgPT09ICdTcGFjZWJhcicpIHtcbiAgICAvLyByZXN0YXJ0KCk7XG4gICAgYW5pbWF0ZSgpO1xuICAgIGFuaW1hdGUoKTtcbiAgICB0aXRsZUNhcmQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICBzcGFjZVByZXNzZWQgPSBmYWxzZTtcbiAgfVxufTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwga2V5RG93bkhhbmRsZXIsIGZhbHNlKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBrZXlVcEhhbmRsZXIsIGZhbHNlKTtcblxuY29uc3QgZHJhd0hvcml6b24gPSAoKSA9PiB7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LnJlY3QoLTEwMDAsIHksIDIwMDAsIDE1MDApO1xuXG4gIGN0eC5maWxsU3R5bGUgPSBcIiNlOGUyYTRcIjtcbiAgY3R4LmZpbGwoKTtcbiAgY3R4LmNsb3NlUGF0aCgpO1xufTtcblxuLy8gY29uc3QgZHJhd1JvdGF0aW9uID0gKCkgPT4ge1xuLy8gICBjdHguZm9udCA9IFwiMTZweCBBcmlhbFwiO1xuLy8gICBjdHguZmlsbFN0eWxlID0gXCIjMDA5NUREXCI7XG4vLyAgIGN0eC5maWxsVGV4dChcIlJvdGF0aW9uOiBcIiArIHJvdGF0aW9uLCAxLCAxKTtcbi8vIH07XG5cbmNvbnN0IGRyYXdTY29yZSA9ICgpID0+IHtcbiAgaWYgKHNjb3JlID4gNDAwMCkge1xuICAgIGN0eC5mb250ID0gXCIxOHB4IEhlbHZldGljYVwiO1xuICAgIGN0eC5maWxsU3R5bGUgPSBcIiMwMDk1RERcIjtcbiAgfSBlbHNlIHtcbiAgICBjdHguZm9udCA9IFwiMTZweCBIZWx2ZXRpY2FcIjtcbiAgICBjdHguZmlsbFN0eWxlID0gXCIjMDA5NUREXCI7XG4gIH1cbiAgY3R4LmZpbGxUZXh0KFwiU2NvcmU6IFwiICsgc2NvcmUsIDMsIC0zKTtcblxufTtcblxuY29uc3QgZHJhd0hpU2NvcmUgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgaGlTY29yZSAhPSBcIm51bWJlclwiKSBoaVNjb3JlID0gaGlTY29yZS5udW1iZXI7XG5cbiAgaWYgKHNjb3JlID4gaGlTY29yZSkge1xuICAgIGhpU2NvcmUgPSBzY29yZTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaGlTY29yZScsIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIG51bWJlcjogTnVtYmVyKHNjb3JlKVxuICAgIH0pKTtcbiAgfVxuXG4gIGN0eC5mb250ID0gXCIxNnB4IEhlbHZldGljYVwiO1xuICBjdHguZmlsbFN0eWxlID0gXCJyZWRcIjtcbiAgXG4gIGN0eC5maWxsVGV4dChcIkhpZ2ggU2NvcmU6IFwiICsgaGlTY29yZSwgMywgLTIwKTtcblxufTtcblxuY29uc3Qgcm90YXRlQ2FtID0gKG51bSkgPT4ge1xuICBpZiAobnVtIDwgMTAwICYmIG51bSA+IDApIHtcbiAgICByZXR1cm4gY3R4LnJvdGF0ZSgoTWF0aC5QSSAvIDE4MCkgKiAwLjA1KTtcbiAgfSBlbHNlIGlmIChudW0gPiAtMTAwICYmIG51bSA8IDApIHtcbiAgICByZXR1cm4gY3R4LnJvdGF0ZSgoTWF0aC5QSSAvIDE4MCkgKiAtMC4wNSk7XG4gIH1cbn07XG5cbmNvbnN0IGRyYXdCaXJkID0gKCkgPT4ge1xuICBjdHguc2F2ZSgpO1xuICBcbiAgY3R4LnRyYW5zbGF0ZSgwLCAxNTApO1xuICBjdHgucm90YXRlKChNYXRoLlBJIC8gMTgwKSAqIC0oKHJvdGF0aW9uICogMC41ICkgLyA0KSk7XG5cbiAgLy8gY3R4LnNoYWRvd0JsdXIgPSA1MDtcbiAgLy8gY3R4LnNoYWRvd0NvbG9yID0gJ2JsYWNrJztcbiAgLy8gY3R4LnNoYWRvd09mZnNldFkgPSA4MDtcbiAgY3R4LmRyYXdJbWFnZShiaXJkSW1nLCAtMTI1LCAtNTAsIDI1MCwgMTAwKTtcbiAgLy8gY3R4LmJlZ2luUGF0aCgpO1xuICAvLyAvLyBjdHgucmVjdCgtNjAsIC0xMCwgMTIwLCAyMCk7XG4gIC8vIGN0eC5yZWN0KC0xMjUsIC01MCwgMjUwLCAxMDApO1xuICAvLyBjdHguZmlsbFN0eWxlID0gXCJibHVlXCI7XG4gIC8vIGN0eC5maWxsKCk7XG4gIC8vIGN0eC5jbG9zZVBhdGgoKTtcbiAgXG4gIFxuICBjdHgucmVzdG9yZSgpO1xufTtcblxuY29uc3QgZHJhd0NhY3R1cyA9ICh4LCB5LCB3LCBoLCBjb2xvciwgaW1nKSA9PiB7XG4gIGN0eC5zYXZlKCk7XG4gIC8vIGNvbnN0IHBsYWNlID0gLTMwICsgeDtcbiAgLy8gY29uc3Qgd2lkdGggPSAyMCArIHc7XG4gIC8vIGNvbnN0IGhlaWdodCA9IDYwICsgaDtcbiAgLy8gY29uc3QgZ3Jvd2luZ1ggPSBwbGFjZSArIGdYO1xuICAvLyBjb25zdCBncm93aW5nWSA9XG4gIGN0eC5kcmF3SW1hZ2UoaW1nLCB4LCB5LCB3LCBoKTtcbiAgLy8gY3R4LmJlZ2luUGF0aCgpO1xuICAvLyBjdHgucmVjdCh4LCB5LCB3LCBoKTtcbiAgLy8gY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAvLyBjdHguZmlsbCgpO1xuICAvLyBjdHguY2xvc2VQYXRoKCk7XG4gIGN0eC5yZXN0b3JlKCk7XG59O1xuXG5jb25zdCBzcGF3bkNhY3RpID0gKCkgPT4ge1xuICBsZXQgeCA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogODQwKSAqIChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpID8gMSA6IC0xKTtcbiAgbGV0IGNvbG9yID0gY2FjdGlDb2xvcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FjdGlDb2xvcnMubGVuZ3RoKV07XG4gIGxldCB7IHdpZHRoLCBoZWlnaHQsIGltZyB9ID0gY2FjdHVzQmluW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhY3R1c0Jpbi5sZW5ndGgpXTtcbiAgY2FjdGkudW5zaGlmdCh7XG4gICAgeDogeCxcbiAgICB5OiAtMTAwLFxuICAgIHdpZHRoOiB3aWR0aCxcbiAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICBjb2xvcjogY29sb3IsXG4gICAgaEluaXRpYWw6IDAsXG4gICAgeU9yZDogMCxcbiAgICBpbWc6IGltZ1xuICB9KTtcbiAgLy9hc3NpZ24gZGVmYXVsdCB2YXJpYWJsZXMgc3RvcmUgdGhlbSBpbiBvYmplY3RzXG59O1xuXG5jb25zdCBkcmF3Q2xvdWRzID0gKCkgPT4ge1xuICAvLyBjdHguYmVnaW5QYXRoKCk7XG4gIC8vIGN0eC5hcmMoY2xvdWQxLnNlYzEsIC0yMDAsIDUwLCAwLCAyICogTWF0aC5QSSk7XG4gIC8vIGN0eC5hcmMoY2xvdWQxLnNlYzIsIC0xNzAsIDQwLCAwLCAyICogTWF0aC5QSSk7XG4gIC8vIGN0eC5hcmMoY2xvdWQxLnNlYzMsIC0xNTAsIDMwLCAwLCAyICogTWF0aC5QSSk7XG4gIC8vIGN0eC5maWxsU3R5bGUgPSBcIiNhZGQ2ZDhcIjtcbiAgLy8gY3R4LmZpbGwoKTtcbiAgY3R4LmRyYXdJbWFnZShjbG91ZDEsIGNsb3VkUG9zaXRpb25zLmNsb3VkMSwgLTIwMCwgMzAwLCAyMDApO1xuICBjdHguZHJhd0ltYWdlKGNsb3VkMiwgY2xvdWRQb3NpdGlvbnMuY2xvdWQyLCAtMzAwLCAzMDAsIDE1MCk7XG4gIGN0eC5kcmF3SW1hZ2UoY2xvdWQxLCBjbG91ZFBvc2l0aW9ucy5jbG91ZDMsIC0yMDAsIDMwMCwgMjAwKTtcbiAgY3R4LmRyYXdJbWFnZShjbG91ZDIsIGNsb3VkUG9zaXRpb25zLmNsb3VkNCwgLTMwMCwgMzAwLCAxNTApO1xuXG4gIC8vIGN0eC5iZWdpblBhdGgoKTtcbiAgLy8gY3R4LmFyYyhjbG91ZDIuc2VjMSwgLTcwLCA0MCwgMCwgMiAqIE1hdGguUEkpO1xuICAvLyBjdHguYXJjKGNsb3VkMi5zZWMyLCAtMTAwLCA0MCwgMCwgMiAqIE1hdGguUEkpO1xuICAvLyBjdHguYXJjKGNsb3VkMi5zZWMzLCAtODAsIDUwLCAwLCAyICogTWF0aC5QSSk7XG4gIC8vIGN0eC5maWxsU3R5bGUgPSBcIiNhZGQ2ZDhcIjtcbiAgLy8gY3R4LmZpbGwoKTtcbn07XG5cbmNvbnN0IG1vdmVDbG91ZHMgPSAobnVtKSA9PiB7XG4gIGZvciAoY29uc3QgY2xvdWQgaW4gY2xvdWRQb3NpdGlvbnMpIHtcbiAgICBsZXQgcG9zID0gY2xvdWRQb3NpdGlvbnNbY2xvdWRdO1xuICAgIHBvcyArPSBudW07XG4gIH1cbn07XG5cbmNvbnN0IGZpbHRlckNhY3RpID0gKCkgPT4ge1xuICBjYWN0aSA9IGNhY3RpLmZpbHRlcihjYWN0dXMgPT4gKChjYWN0dXMueSkgPCA1NTApKTtcbn07XG5cbmNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XG4gIFxuICBjdHguY2xlYXJSZWN0KC0xMDAwLCAtMTAwMCwgMjAwMCwgMjAwMCk7XG4gIGZpbHRlckNhY3RpKCk7XG4gIGRyYXdIb3Jpem9uKCk7XG4gIGlmIChoaVNjb3JlIDwgMjAwICYmIChzY29yZSA+IDEwMCAmJiBzY29yZSA8IDcwMCkpIHtcbiAgICBjdHguZHJhd0ltYWdlKGNvbnRyb2xzLCAtMTAwLCAyMDAsIDIwMCwgNzApO1xuICB9XG4gIGRyYXdDbG91ZHMoKTtcbiAgLy8gZHJhd1JvdGF0aW9uKCk7XG4gIGRyYXdTY29yZSgpO1xuICBkcmF3SGlTY29yZSgpO1xuICBkcmF3QmlyZCgpO1xuXG4gIC8vY2FjdHVzIHNwYXduIGZyZXF1ZW5jeVxuICBpZiAoY291bnRlciA9PT0gNTUpIHtcbiAgICBzcGF3bkNhY3RpKCk7XG4gICAgY291bnRlciA9IDA7XG4gIH1cblxuXG4gIGNhY3RpLmZvckVhY2goY2FjdHVzID0+IHtcbiAgICBjYWN0dXMueCArPSB0dXJuWDtcbiAgICBsZXQgaCA9IGNhY3R1cy5oZWlnaHQ7XG4gICAgaWYgKGNhY3R1cy5oSW5pdGlhbCA8IGNhY3R1cy5oZWlnaHQpIHtcbiAgICAgIGNhY3R1cy5oSW5pdGlhbCArPSAxO1xuICAgICAgaCA9IGNhY3R1cy5oSW5pdGlhbDtcbiAgICAgIGNhY3R1cy55T3JkIC09IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY3R1cy55T3JkICs9IDEuNDk7XG4gICAgICBjYWN0dXMueSArPSAxLjQ5O1xuICAgICAgLy8gY2FjdHVzLndpZHRoICs9IGNhY3R1cy53aWR0aCAqIDAuMDAxNDtcbiAgICAgIC8vIGNhY3R1cy5oZWlnaHQgKz0gY2FjdHVzLmhlaWdodCAqIDAuMDAxNDtcbiAgICAgIC8vIGNhY3R1cy5oZWlnaHQgKj0gMS4wMDE0O1xuICAgICAgY2FjdHVzLmhJbml0aWFsID0gY2FjdHVzLmhlaWdodDtcbiAgICB9XG5cbiAgICAvL2NhY3R1cyByZW1vdmFsIGFuaW1hdGlvbiBhbmQgeU9yZCBzcGVlZCBjb250cm9sXG4gICAgLy8gaWYgKGNhY3R1cy53aWR0aCA+IDUwKSB7XG4gICAgLy8gICBjYWN0dXMueU9yZCArPSAxO1xuICAgIC8vICAgY2FjdHVzLmhlaWdodCAtPSAxO1xuICAgIC8vIH0gZWxzZSBpZiAoY2FjdHVzLndpZHRoID4gMjcpIHtcbiAgICAvLyAgIGNhY3R1cy55T3JkICs9IDE7XG4gICAgLy8gICAvLyBjYWN0dXMuY29sb3IgPSBcImJsYWNrXCI7XG4gICAgLy8gfSBlbHNlIGlmIChjYWN0dXMud2lkdGggPiAyMykge1xuICAgIC8vICAgY2FjdHVzLnlPcmQgKz0gMC41O1xuICAgIC8vICAgLy8gY2FjdHVzLmNvbG9yID0gXCJyZWRcIjtcbiAgICAvLyB9XG5cbiAgICBpZiAoY2FjdHVzLnkgPiAwKSB7XG4gICAgICAvLyBjYWN0dXMuY29sb3IgPSBcInJlZFwiO1xuICAgIH1cblxuICAgIC8vIGNhY3R1cyBwYXRoIGNoYW5nZSB0byBhY2NvdW50IGZvciBwZXJzcGVjdGl2ZVxuICAgIGlmIChjYWN0dXMueSA+IC05MCkge1xuICAgICAgaWYgKGNhY3R1cy54ID4gMTAwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuNTU7XG4gICAgICB9IGVsc2UgaWYgKGNhY3R1cy54IDwgLTEwMCkge1xuICAgICAgICBjYWN0dXMueCAtPSAwLjU1O1xuICAgICAgfSBlbHNlIGlmIChjYWN0dXMueCA+IDYwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuMjtcbiAgICAgIH0gZWxzZSBpZiAoY2FjdHVzLnggPCAtNjApIHtcbiAgICAgICAgY2FjdHVzLnggLT0gMC4yO1xuICAgICAgfSBlbHNlIGlmIChjYWN0dXMueCA+IDgwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuNDtcbiAgICAgIH0gZWxzZSBpZiAoY2FjdHVzLnggPCAtODApIHtcbiAgICAgICAgY2FjdHVzLnggLT0gMC40O1xuICAgICAgfSBlbHNlIGlmIChjYWN0dXMueCA+IDQwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuMTtcbiAgICAgIH0gZWxzZSBpZiAoY2FjdHVzLnggPCAtNDApIHtcbiAgICAgICAgY2FjdHVzLnggLT0gMC4xO1xuICAgICAgfSBlbHNlIGlmIChjYWN0dXMueCA+IDIwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuMDU7XG4gICAgICB9IGVsc2UgaWYgKGNhY3R1cy54IDwgLTIwKSB7XG4gICAgICAgIGNhY3R1cy54IC09IDAuMDU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbGV0IGNhY3R1c0hpdCA9IGNhY3R1cy55IC0gKCBoLzUgKTtcbiAgICBsZXQgY2FjdHVzSGl0ID0gY2FjdHVzLnk7XG4gICAgbGV0IGxlZnRIaXQgPSBjYWN0dXMueCArIChjYWN0dXMud2lkdGggLyAyKTtcblxuICAgIC8vIGlmICgoY2FjdHVzSGl0IDwgMTAgJiYgY2FjdHVzSGl0ID4gNSkgJiYgKGNhY3R1cy54ID4gLTIyNSAmJiBjYWN0dXMueCA8IDEwMCkpIHtcbiAgICBpZiAoKGNhY3R1cy55IDwgMTAgJiYgY2FjdHVzLnkgPiA1KSAmJiAobGVmdEhpdCA+IC0xMjUgJiYgbGVmdEhpdCA8IDEyNSkpIHtcbiAgICAgIC8vIGNhY3R1cy5jb2xvciA9IFwicHVycGxlXCI7XG4gICAgICAvLyBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgIGRvY3VtZW50LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIH1cblxuICAgIGRyYXdDYWN0dXMoY2FjdHVzLngsIGNhY3R1cy55T3JkLCBjYWN0dXMud2lkdGgsIGgsIGNhY3R1cy5jb2xvciwgY2FjdHVzLmltZyApO1xuICB9KTtcbiAgXG4gIGlmIChsZWZ0UHJlc3NlZCkge1xuICAgIGlmICh0dXJuWCA8PSAwKSAge1xuICAgICAgdHVyblggKz0gMC4wNTU7XG4gICAgfSBlbHNlIGlmICh0dXJuWCA+IDAgJiYgdHVyblggPCAxLjcpIHtcbiAgICAgIHR1cm5YICs9IDAuMDM1O1xuICAgIH1cbiAgICBtb3ZlQ2xvdWRzKDAuNjEpOyAvL2NoYW5nZSB2YWx1ZSB0byBzaGlmdCBjbG91ZCB4IHBvc2l0aW9uICBcbiAgICBpZiAocm90YXRpb24gPCAxMDAgJiYgcm90YXRpb24gPj0gMCkge1xuICAgICAgcm90YXRpb24gKz0gMTtcbiAgICAgIHJvdGF0ZUNhbShyb3RhdGlvbik7XG4gICAgfSBlbHNlIGlmIChyb3RhdGlvbiA8IDApIHtcbiAgICAgIHJvdGF0aW9uICs9IDE7XG4gICAgICBjdHgucm90YXRlKChNYXRoLlBJIC8gMTgwKSAqIDAuMDUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChyaWdodFByZXNzZWQpIHtcbiAgICBpZiAodHVyblggPj0gMCkge1xuICAgICAgdHVyblggLT0gMC4wNTU7XG4gICAgfSBlbHNlIGlmICh0dXJuWCA8IDAgJiYgdHVyblggPiAtMS43KSB7XG4gICAgICB0dXJuWCAtPSAwLjM1O1xuICAgIH1cbiAgICBtb3ZlQ2xvdWRzKC0wLjYxKTsgLy9jaGFuZ2UgdmFsdWUgdG8gc2hpZnQgY2xvdWQgeCBwb3NpdGlvbiBcbiAgICBpZiAocm90YXRpb24gPiAtMTAwICYmIHJvdGF0aW9uIDw9IDApIHtcbiAgICAgIHJvdGF0aW9uIC09IDE7XG4gICAgICByb3RhdGVDYW0ocm90YXRpb24pO1xuICAgIH0gZWxzZSBpZiAocm90YXRpb24gPiAwKSB7XG4gICAgICByb3RhdGlvbiAtPSAxO1xuICAgICAgY3R4LnJvdGF0ZSgoTWF0aC5QSSAvIDE4MCkgKiAtMC4wNSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChyb3RhdGlvbiA+IDApIHtcbiAgICAgIHJvdGF0aW9uIC09IDE7XG4gICAgICBjdHgucm90YXRlKChNYXRoLlBJIC8gMTgwKSAqIC0wLjA1KTtcbiAgICB9IGVsc2UgaWYgKHJvdGF0aW9uIDwgMCkge1xuICAgICAgcm90YXRpb24gKz0gMTtcbiAgICAgIGN0eC5yb3RhdGUoKE1hdGguUEkgLyAxODApICogMC4wNSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHR1cm5YID0gMDtcbiAgICB9XG4gIH1cbiAgY291bnRlciArPSAxO1xuICBzY29yZSArPSAxO1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XG59O1xuXG5cbi8vIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoYW5pbWF0ZSwgMTApO1xuLy8gYW5pbWF0ZSgpO1xuLy8gaWYgKHNwYWNlUHJlc3NlZCkge1xuLy8gICBpbnRlcnZhbCgpO1xuLy8gfVxuXG4gICAgLy9vbiBrZXlkb3duIHRoZSBob3Jpem9uIHJvdGF0ZXMgdG8gYSBjZXJ0YWluIHBvaW50XG4gICAgLy9vbiBrZXl1cCB0aGUgaG9yaXpvbiByZXR1cm5zIHRvIGl0cyBpbml0aWFsIHN0YXRlXG4gICAgLy9hcyB0aGUgaG9yaXpvbiBzaGlmdHMgZW5lbXkgZWxlbWVudHMvb2JzdGFjbGVzIHNoaWZ0IHRvb1xuICAgIC8vdGhleSBhbHNvIGFkZCBvciBkZWNyZWFzZSB0aGVpciB4IHBvc2l0aW9uIGRlcGVuZGluZyBvbiB0aGUga2V5IGRpcmVjdGlvblxuXG4gICAgLy92YXJpYWJsZSBmb3IgdGltZSBlbGFwc2VkID09PSBoaWdoIHNjb3JlXG4gICAgLy9oaWdoIHNjb3JlIHNhdmVkIGFuZCBkaXNwbGF5ZWRcblxuXG4iXSwic291cmNlUm9vdCI6IiJ9
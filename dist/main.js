/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/styles/index.css":
/*!******************************!*\
  !*** ./src/styles/index.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _styles_index_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/index.css */ "./src/styles/index.css");

var canvas = document.getElementById("flyCanvas");
var ctx = canvas.getContext("2d");
var rightPressed = false;
var leftPressed = false;
var turnX = 0;
var y = 0;
var rotationInit = 0;
var rotation = 0;
var counter = 0;
var cactiColors = ["#076d07", "#2e7a2f", "#a1d6a2", "#5ef75e"];
var cacti = [{
  x: -100,
  y: -100,
  width: 20,
  height: 100,
  color: "#076d07",
  hInitial: 0,
  yOrd: 0
}, {
  x: -40,
  y: -30,
  width: 20,
  height: 30,
  color: "#076d07",
  hInitial: 0,
  yOrd: 0
}, {
  x: 30,
  y: -40,
  width: 30,
  height: 40,
  color: "#2e7a2f",
  hInitial: 0,
  yOrd: 0
}];
var cloud1 = {
  sec1: 100,
  sec2: 130,
  sec3: 80
};
var cloud2 = {
  sec1: -130,
  sec2: -100,
  sec3: -80
};
ctx.translate(640, 360);

var keyDownHandler = function keyDownHandler(e) {
  if (e.key == "Right" || e.key == "ArrowRight") {
    rightPressed = true;
  } else if (e.key == "Left" || e.key == "ArrowLeft") {
    leftPressed = true;
  }
};

var keyUpHandler = function keyUpHandler(e) {
  if (e.key == "Right" || e.key == "ArrowRight") {
    rightPressed = false;
  } else if (e.key == "Left" || e.key == "ArrowLeft") {
    leftPressed = false;
  }
};

document.addEventListener("keydown", keyDownHandler, false);
document.addEventListener("keyup", keyUpHandler, false);

var drawHorizon = function drawHorizon() {
  ctx.beginPath();
  ctx.rect(-1000, y, 2000, 1500);
  ctx.fillStyle = "#e8e2a4";
  ctx.fill();
  ctx.closePath();
};

var drawRotation = function drawRotation() {
  ctx.font = "16px Arial";
  ctx.fillStyle = "#0095DD";
  ctx.fillText("Rotation: " + rotation, 1, 1);
};

var rotateCam = function rotateCam(num) {
  if (num < 100 && num > 0) {
    return ctx.rotate(Math.PI / 180 * 0.05);
  } else if (num > -100 && num < 0) {
    return ctx.rotate(Math.PI / 180 * -0.05);
  }
};

var drawBird = function drawBird() {
  ctx.save();
  ctx.translate(0, 150);
  ctx.rotate(Math.PI / 180 * -(rotation / 20));
  ctx.beginPath();
  ctx.rect(-60, -10, 120, 20);
  ctx.fillStyle = "blue";
  ctx.fill();
  ctx.closePath();
  ctx.restore();
};

var drawCactus = function drawCactus(x, y, w, h, color) {
  ctx.save(); // const place = -30 + x;
  // const width = 20 + w;
  // const height = 60 + h;
  // const growingX = place + gX;
  // const growingY =

  ctx.beginPath();
  ctx.rect(x, y, w, h);
  ctx.fillStyle = color;
  ctx.fill();
  ctx.closePath();
  ctx.restore();
};

var spawnCacti = function spawnCacti() {
  var x = Math.ceil(Math.random() * 250) * (Math.round(Math.random()) ? 1 : -1);
  var color = cactiColors[Math.floor(Math.random() * cactiColors.length)];
  cacti.unshift({
    x: x,
    y: -100,
    width: 20,
    height: 100,
    color: color,
    hInitial: 0,
    yOrd: 0
  });
};

var drawClouds = function drawClouds() {
  ctx.beginPath();
  ctx.arc(cloud1.sec1, -200, 50, 0, 2 * Math.PI);
  ctx.arc(cloud1.sec2, -170, 40, 0, 2 * Math.PI);
  ctx.arc(cloud1.sec3, -150, 30, 0, 2 * Math.PI);
  ctx.fillStyle = "#add6d8";
  ctx.fill();
  ctx.beginPath();
  ctx.arc(cloud2.sec1, -70, 40, 0, 2 * Math.PI);
  ctx.arc(cloud2.sec2, -100, 40, 0, 2 * Math.PI);
  ctx.arc(cloud2.sec3, -80, 50, 0, 2 * Math.PI);
  ctx.fillStyle = "#add6d8";
  ctx.fill();
};

var moveClouds = function moveClouds(num) {
  for (var section in cloud1) {
    cloud1[section] += num;
  }

  for (var _section in cloud2) {
    cloud2[_section] += num;
  }
};

var animate = function animate() {
  ctx.clearRect(-1000, -1000, 2000, 2000);
  drawHorizon();
  drawClouds();
  drawRotation();
  drawBird();

  if (counter === 70) {
    spawnCacti();
    counter = 0;
  }

  cacti.forEach(function (cactus) {
    cactus.x += turnX;
    var h = cactus.height;

    if (cactus.hInitial < cactus.height) {
      cactus.hInitial += 1;
      h = cactus.hInitial;
      cactus.yOrd -= 1;
    } else {
      cactus.yOrd += 0.39;
      cactus.width *= 1.0019;
      cactus.height *= 1.0014;
      cactus.hInitial = cactus.height;
    }

    if (cactus.x > 50) {
      cactus.x += 0.15;
    } else if (cactus.x < -50) {
      cactus.x -= 0.15;
    } else if (cactus.x > 30) {
      cactus.x += 0.06;
    } else if (cactus.x < -30) {
      cactus.x -= 0.06;
    } else if (cactus.x > 80) {
      cactus.x += 0.3;
    } else if (cactus.x < -80) {
      cactus.x -= 0.3;
    }

    drawCactus(cactus.x, cactus.yOrd, cactus.width, h, cactus.color);
  }); // turnX = 0;
  // ctx.rotate((Math.PI / 180) * rotation);

  if (leftPressed) {
    if (turnX <= 0) {
      turnX += 0.075;
    } else if (turnX > 0 && turnX < 1.7) {
      turnX += 0.035;
    }

    moveClouds(0.21);

    if (rotation < 100 && rotation >= 0) {
      rotation += 1;
      rotateCam(rotation);
    } else if (rotation < 0) {
      rotation += 1;
      ctx.rotate(Math.PI / 180 * 0.05);
    }
  } else if (rightPressed) {
    if (turnX >= 0) {
      turnX -= 0.055;
    } else if (turnX < 0 && turnX > -1.7) {
      turnX -= 0.35;
    }

    moveClouds(-0.21);

    if (rotation > -100 && rotation <= 0) {
      rotation -= 1;
      rotateCam(rotation);
    } else if (rotation > 0) {
      rotation -= 1;
      ctx.rotate(Math.PI / 180 * -0.05);
    }
  } else {
    if (rotation > 0) {
      rotation -= 1;
      ctx.rotate(Math.PI / 180 * -0.05);
    } else if (rotation < 0) {
      rotation += 1;
      ctx.rotate(Math.PI / 180 * 0.05);
    } else {
      turnX = 0;
    }
  }

  counter += 1;
};

setInterval(animate, 10); //on keydown the horizon rotates to a certain point
//on keyup the horizon returns to its initial state
//as the horizon shifts enemy elements/obstacles shift too
//they also add or decrease their x position depending on the key direction
//variable for time elapsed === high score
//high score saved and displayed
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YWtlX2ZsaWdodC8uL3NyYy9zdHlsZXMvaW5kZXguY3NzIiwid2VicGFjazovL3Rha2VfZmxpZ2h0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3Rha2VfZmxpZ2h0L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vdGFrZV9mbGlnaHQvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJyaWdodFByZXNzZWQiLCJsZWZ0UHJlc3NlZCIsInR1cm5YIiwieSIsInJvdGF0aW9uSW5pdCIsInJvdGF0aW9uIiwiY291bnRlciIsImNhY3RpQ29sb3JzIiwiY2FjdGkiLCJ4Iiwid2lkdGgiLCJoZWlnaHQiLCJjb2xvciIsImhJbml0aWFsIiwieU9yZCIsImNsb3VkMSIsInNlYzEiLCJzZWMyIiwic2VjMyIsImNsb3VkMiIsInRyYW5zbGF0ZSIsImtleURvd25IYW5kbGVyIiwiZSIsImtleSIsImtleVVwSGFuZGxlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJkcmF3SG9yaXpvbiIsImJlZ2luUGF0aCIsInJlY3QiLCJmaWxsU3R5bGUiLCJmaWxsIiwiY2xvc2VQYXRoIiwiZHJhd1JvdGF0aW9uIiwiZm9udCIsImZpbGxUZXh0Iiwicm90YXRlQ2FtIiwibnVtIiwicm90YXRlIiwiTWF0aCIsIlBJIiwiZHJhd0JpcmQiLCJzYXZlIiwicmVzdG9yZSIsImRyYXdDYWN0dXMiLCJ3IiwiaCIsInNwYXduQ2FjdGkiLCJjZWlsIiwicmFuZG9tIiwicm91bmQiLCJmbG9vciIsImxlbmd0aCIsInVuc2hpZnQiLCJkcmF3Q2xvdWRzIiwiYXJjIiwibW92ZUNsb3VkcyIsInNlY3Rpb24iLCJhbmltYXRlIiwiY2xlYXJSZWN0IiwiZm9yRWFjaCIsImNhY3R1cyIsInNldEludGVydmFsIl0sIm1hcHBpbmdzIjoiOzs7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aS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0ICcuL3N0eWxlcy9pbmRleC5jc3MnO1xuXG52YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmbHlDYW52YXNcIik7XG52YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbnZhciByaWdodFByZXNzZWQgPSBmYWxzZTtcbnZhciBsZWZ0UHJlc3NlZCA9IGZhbHNlO1xudmFyIHR1cm5YID0gMDtcbnZhciB5ID0gMDtcbnZhciByb3RhdGlvbkluaXQgPSAwO1xudmFyIHJvdGF0aW9uID0gMDtcbnZhciBjb3VudGVyID0gMDtcbnZhciBjYWN0aUNvbG9ycyA9IFtcIiMwNzZkMDdcIiwgXCIjMmU3YTJmXCIsIFwiI2ExZDZhMlwiLCBcIiM1ZWY3NWVcIl07XG52YXIgY2FjdGkgPSBbXG4gIHsgeDogLTEwMCwgeTogLTEwMCwgd2lkdGg6IDIwLCBoZWlnaHQ6IDEwMCwgY29sb3I6IFwiIzA3NmQwN1wiLCBoSW5pdGlhbDogMCwgeU9yZDogMCB9LFxuICB7IHg6IC00MCwgeTogLTMwLCB3aWR0aDogMjAsIGhlaWdodDogMzAsIGNvbG9yOiBcIiMwNzZkMDdcIiwgaEluaXRpYWw6IDAsIHlPcmQ6IDAgfSxcbiAgeyB4OiAzMCwgeTogLTQwLCB3aWR0aDogMzAsIGhlaWdodDogNDAsIGNvbG9yOiBcIiMyZTdhMmZcIiwgaEluaXRpYWw6IDAsIHlPcmQ6IDAgfVxuXTtcbnZhciBjbG91ZDEgPSB7IHNlYzE6IDEwMCwgc2VjMjogMTMwLCBzZWMzOiA4MCB9O1xudmFyIGNsb3VkMiA9IHsgc2VjMTogLTEzMCwgc2VjMjogLTEwMCwgc2VjMzogLTgwIH07XG5cbmN0eC50cmFuc2xhdGUoNjQwLCAzNjApO1xuXG5cblxuY29uc3Qga2V5RG93bkhhbmRsZXIgPSAoZSkgPT4ge1xuICBpZiAoZS5rZXkgPT0gXCJSaWdodFwiIHx8IGUua2V5ID09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgcmlnaHRQcmVzc2VkID0gdHJ1ZTtcbiAgfVxuICBlbHNlIGlmIChlLmtleSA9PSBcIkxlZnRcIiB8fCBlLmtleSA9PSBcIkFycm93TGVmdFwiKSB7XG4gICAgbGVmdFByZXNzZWQgPSB0cnVlO1xuICB9XG59O1xuXG5jb25zdCBrZXlVcEhhbmRsZXIgPSAoZSkgPT4ge1xuICBpZiAoZS5rZXkgPT0gXCJSaWdodFwiIHx8IGUua2V5ID09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgcmlnaHRQcmVzc2VkID0gZmFsc2U7XG4gIH1cbiAgZWxzZSBpZiAoZS5rZXkgPT0gXCJMZWZ0XCIgfHwgZS5rZXkgPT0gXCJBcnJvd0xlZnRcIikge1xuICAgIGxlZnRQcmVzc2VkID0gZmFsc2U7XG4gIH1cbn07XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleURvd25IYW5kbGVyLCBmYWxzZSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwga2V5VXBIYW5kbGVyLCBmYWxzZSk7XG5cbmNvbnN0IGRyYXdIb3Jpem9uID0gKCkgPT4ge1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5yZWN0KC0xMDAwLCB5LCAyMDAwLCAxNTAwKTtcblxuICBjdHguZmlsbFN0eWxlID0gXCIjZThlMmE0XCI7XG4gIGN0eC5maWxsKCk7XG4gIGN0eC5jbG9zZVBhdGgoKTtcbn07XG5cbmNvbnN0IGRyYXdSb3RhdGlvbiA9ICgpID0+IHtcbiAgY3R4LmZvbnQgPSBcIjE2cHggQXJpYWxcIjtcbiAgY3R4LmZpbGxTdHlsZSA9IFwiIzAwOTVERFwiO1xuICBjdHguZmlsbFRleHQoXCJSb3RhdGlvbjogXCIgKyByb3RhdGlvbiwgMSwgMSk7XG59O1xuXG5jb25zdCByb3RhdGVDYW0gPSAobnVtKSA9PiB7XG4gIGlmIChudW0gPCAxMDAgJiYgbnVtID4gMCkge1xuICAgIHJldHVybiBjdHgucm90YXRlKChNYXRoLlBJIC8gMTgwKSAqIDAuMDUpO1xuICB9IGVsc2UgaWYgKG51bSA+IC0xMDAgJiYgbnVtIDwgMCkge1xuICAgIHJldHVybiBjdHgucm90YXRlKChNYXRoLlBJIC8gMTgwKSAqIC0wLjA1KTtcbiAgfVxufTtcblxuY29uc3QgZHJhd0JpcmQgPSAoKSA9PiB7XG4gIGN0eC5zYXZlKCk7XG4gIFxuICBjdHgudHJhbnNsYXRlKDAsIDE1MCk7XG4gIGN0eC5yb3RhdGUoKE1hdGguUEkgLyAxODApICogLShyb3RhdGlvbiAvIDIwKSk7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LnJlY3QoLTYwLCAtMTAsIDEyMCwgMjApO1xuICBjdHguZmlsbFN0eWxlID0gXCJibHVlXCI7XG4gIGN0eC5maWxsKCk7XG4gIGN0eC5jbG9zZVBhdGgoKTtcbiAgXG4gIGN0eC5yZXN0b3JlKCk7XG59O1xuXG5jb25zdCBkcmF3Q2FjdHVzID0gKHgsIHksIHcsIGgsIGNvbG9yKSA9PiB7XG4gIGN0eC5zYXZlKCk7XG4gIC8vIGNvbnN0IHBsYWNlID0gLTMwICsgeDtcbiAgLy8gY29uc3Qgd2lkdGggPSAyMCArIHc7XG4gIC8vIGNvbnN0IGhlaWdodCA9IDYwICsgaDtcbiAgLy8gY29uc3QgZ3Jvd2luZ1ggPSBwbGFjZSArIGdYO1xuICAvLyBjb25zdCBncm93aW5nWSA9XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LnJlY3QoeCwgeSwgdywgaCk7XG4gIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgY3R4LmZpbGwoKTtcbiAgY3R4LmNsb3NlUGF0aCgpO1xuICBjdHgucmVzdG9yZSgpO1xufTtcblxuY29uc3Qgc3Bhd25DYWN0aSA9ICgpID0+IHtcbiAgbGV0IHggPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDI1MCkgKiAoTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSA/IDEgOiAtMSk7XG4gIGxldCBjb2xvciA9IGNhY3RpQ29sb3JzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhY3RpQ29sb3JzLmxlbmd0aCldO1xuICBjYWN0aS51bnNoaWZ0KHtcbiAgICB4OiB4LFxuICAgIHk6IC0xMDAsXG4gICAgd2lkdGg6IDIwLFxuICAgIGhlaWdodDogMTAwLFxuICAgIGNvbG9yOiBjb2xvcixcbiAgICBoSW5pdGlhbDogMCxcbiAgICB5T3JkOiAwXG4gIH0pO1xufTtcblxuY29uc3QgZHJhd0Nsb3VkcyA9ICgpID0+IHtcbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHguYXJjKGNsb3VkMS5zZWMxLCAtMjAwLCA1MCwgMCwgMiAqIE1hdGguUEkpO1xuICBjdHguYXJjKGNsb3VkMS5zZWMyLCAtMTcwLCA0MCwgMCwgMiAqIE1hdGguUEkpO1xuICBjdHguYXJjKGNsb3VkMS5zZWMzLCAtMTUwLCAzMCwgMCwgMiAqIE1hdGguUEkpO1xuICBjdHguZmlsbFN0eWxlID0gXCIjYWRkNmQ4XCI7XG4gIGN0eC5maWxsKCk7XG5cbiAgY3R4LmJlZ2luUGF0aCgpO1xuICBjdHguYXJjKGNsb3VkMi5zZWMxLCAtNzAsIDQwLCAwLCAyICogTWF0aC5QSSk7XG4gIGN0eC5hcmMoY2xvdWQyLnNlYzIsIC0xMDAsIDQwLCAwLCAyICogTWF0aC5QSSk7XG4gIGN0eC5hcmMoY2xvdWQyLnNlYzMsIC04MCwgNTAsIDAsIDIgKiBNYXRoLlBJKTtcbiAgY3R4LmZpbGxTdHlsZSA9IFwiI2FkZDZkOFwiO1xuICBjdHguZmlsbCgpO1xufTtcblxuY29uc3QgbW92ZUNsb3VkcyA9IChudW0pID0+IHtcbiAgZm9yIChjb25zdCBzZWN0aW9uIGluIGNsb3VkMSkge1xuICAgIGNsb3VkMVtzZWN0aW9uXSArPSBudW07XG4gIH1cbiAgZm9yIChjb25zdCBzZWN0aW9uIGluIGNsb3VkMikge1xuICAgIGNsb3VkMltzZWN0aW9uXSArPSBudW07XG4gIH1cbn07XG5cbmNvbnN0IGFuaW1hdGUgPSAoKSA9PiB7XG4gIGN0eC5jbGVhclJlY3QoLTEwMDAsIC0xMDAwLCAyMDAwLCAyMDAwKTtcbiAgZHJhd0hvcml6b24oKTtcbiAgZHJhd0Nsb3VkcygpO1xuICBkcmF3Um90YXRpb24oKTtcbiAgZHJhd0JpcmQoKTtcbiAgaWYgKGNvdW50ZXIgPT09IDcwKSB7XG4gICAgc3Bhd25DYWN0aSgpO1xuICAgIGNvdW50ZXIgPSAwO1xuICB9XG4gIGNhY3RpLmZvckVhY2goY2FjdHVzID0+IHtcbiAgICBjYWN0dXMueCArPSB0dXJuWDtcbiAgICBsZXQgaCA9IGNhY3R1cy5oZWlnaHQ7XG4gICAgaWYgKGNhY3R1cy5oSW5pdGlhbCA8IGNhY3R1cy5oZWlnaHQpIHtcbiAgICAgIGNhY3R1cy5oSW5pdGlhbCArPSAxO1xuICAgICAgaCA9IGNhY3R1cy5oSW5pdGlhbDtcbiAgICAgIGNhY3R1cy55T3JkIC09IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY3R1cy55T3JkICs9IDAuMzk7XG4gICAgICBjYWN0dXMud2lkdGggKj0gMS4wMDE5O1xuICAgICAgY2FjdHVzLmhlaWdodCAqPSAxLjAwMTQ7XG4gICAgICBjYWN0dXMuaEluaXRpYWwgPSBjYWN0dXMuaGVpZ2h0O1xuICAgIH1cbiAgICBpZiAoY2FjdHVzLnggPiA1MCkge1xuICAgICAgY2FjdHVzLnggKz0gMC4xNTtcbiAgICB9IGVsc2UgaWYgKGNhY3R1cy54IDwgLTUwKSB7XG4gICAgICBjYWN0dXMueCAtPSAwLjE1O1xuICAgIH0gZWxzZSBpZiAoY2FjdHVzLnggPiAzMCkge1xuICAgICAgY2FjdHVzLnggKz0gMC4wNjtcbiAgICB9IGVsc2UgaWYgKGNhY3R1cy54IDwgLTMwKSB7XG4gICAgICBjYWN0dXMueCAtPSAwLjA2O1xuICAgIH0gZWxzZSBpZiAoY2FjdHVzLnggPiA4MCkge1xuICAgICAgY2FjdHVzLnggKz0gMC4zO1xuICAgIH0gZWxzZSBpZiAoY2FjdHVzLnggPCAtODApIHtcbiAgICAgIGNhY3R1cy54IC09IDAuMztcbiAgICB9XG4gICAgZHJhd0NhY3R1cyhjYWN0dXMueCwgY2FjdHVzLnlPcmQsIGNhY3R1cy53aWR0aCwgaCwgY2FjdHVzLmNvbG9yKTtcbiAgfSk7XG4gIC8vIHR1cm5YID0gMDtcblxuICAvLyBjdHgucm90YXRlKChNYXRoLlBJIC8gMTgwKSAqIHJvdGF0aW9uKTtcbiAgaWYgKGxlZnRQcmVzc2VkKSB7XG4gICAgaWYgKHR1cm5YIDw9IDApICB7XG4gICAgICB0dXJuWCArPSAwLjA3NTtcbiAgICB9IGVsc2UgaWYgKHR1cm5YID4gMCAmJiB0dXJuWCA8IDEuNykge1xuICAgICAgdHVyblggKz0gMC4wMzU7XG4gICAgfVxuICAgIG1vdmVDbG91ZHMoMC4yMSk7XG4gICAgaWYgKHJvdGF0aW9uIDwgMTAwICYmIHJvdGF0aW9uID49IDApIHtcbiAgICAgIHJvdGF0aW9uICs9IDE7XG4gICAgICByb3RhdGVDYW0ocm90YXRpb24pO1xuICAgIH0gZWxzZSBpZiAocm90YXRpb24gPCAwKSB7XG4gICAgICByb3RhdGlvbiArPSAxO1xuICAgICAgY3R4LnJvdGF0ZSgoTWF0aC5QSSAvIDE4MCkgKiAwLjA1KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocmlnaHRQcmVzc2VkKSB7XG4gICAgaWYgKHR1cm5YID49IDApIHtcbiAgICAgIHR1cm5YIC09IDAuMDU1O1xuICAgIH0gZWxzZSBpZiAodHVyblggPCAwICYmIHR1cm5YID4gLTEuNykge1xuICAgICAgdHVyblggLT0gMC4zNTtcbiAgICB9XG4gICAgbW92ZUNsb3VkcygtMC4yMSk7XG4gICAgaWYgKHJvdGF0aW9uID4gLTEwMCAmJiByb3RhdGlvbiA8PSAwKSB7XG4gICAgICByb3RhdGlvbiAtPSAxO1xuICAgICAgcm90YXRlQ2FtKHJvdGF0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHJvdGF0aW9uID4gMCkge1xuICAgICAgcm90YXRpb24gLT0gMTtcbiAgICAgIGN0eC5yb3RhdGUoKE1hdGguUEkgLyAxODApICogLTAuMDUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAocm90YXRpb24gPiAwKSB7XG4gICAgICByb3RhdGlvbiAtPSAxO1xuICAgICAgY3R4LnJvdGF0ZSgoTWF0aC5QSSAvIDE4MCkgKiAtMC4wNSk7XG4gICAgfSBlbHNlIGlmIChyb3RhdGlvbiA8IDApIHtcbiAgICAgIHJvdGF0aW9uICs9IDE7XG4gICAgICBjdHgucm90YXRlKChNYXRoLlBJIC8gMTgwKSAqIDAuMDUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0dXJuWCA9IDA7XG4gICAgfVxuICB9XG4gIGNvdW50ZXIgKz0gMTtcbn07XG5cblxuc2V0SW50ZXJ2YWwoYW5pbWF0ZSwgMTApO1xuXG4gICAgLy9vbiBrZXlkb3duIHRoZSBob3Jpem9uIHJvdGF0ZXMgdG8gYSBjZXJ0YWluIHBvaW50XG4gICAgLy9vbiBrZXl1cCB0aGUgaG9yaXpvbiByZXR1cm5zIHRvIGl0cyBpbml0aWFsIHN0YXRlXG4gICAgLy9hcyB0aGUgaG9yaXpvbiBzaGlmdHMgZW5lbXkgZWxlbWVudHMvb2JzdGFjbGVzIHNoaWZ0IHRvb1xuICAgIC8vdGhleSBhbHNvIGFkZCBvciBkZWNyZWFzZSB0aGVpciB4IHBvc2l0aW9uIGRlcGVuZGluZyBvbiB0aGUga2V5IGRpcmVjdGlvblxuXG4gICAgLy92YXJpYWJsZSBmb3IgdGltZSBlbGFwc2VkID09PSBoaWdoIHNjb3JlXG4gICAgLy9oaWdoIHNjb3JlIHNhdmVkIGFuZCBkaXNwbGF5ZWRcblxuXG4iXSwic291cmNlUm9vdCI6IiJ9
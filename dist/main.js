/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/styles/index.css":
/*!******************************!*\
  !*** ./src/styles/index.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _styles_index_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/index.css */ "./src/styles/index.css");

var canvas = document.getElementById("flyCanvas");
var ctx = canvas.getContext("2d");
var rightPressed = false;
var leftPressed = false;
var spacePressed = false;
var turnX = 0;
var y = 0;
var rotationInit = 0;
var rotation = 0;
var counter = 0;
var cactiColors = ["#076d07", "#2e7a2f", "#a1d6a2", "#5ef75e"];
var cacti = [];
var birdImg = new Image();
birdImg.src = "src/assets/Take Flight-05.png";
var cactus1 = new Image();
cactus1.src = "src/assets/Take Flight-06.png";
var cactus2 = new Image();
cactus2.src = "src/assets/Take Flight-07.png";
var cactus3 = new Image();
cactus3.src = "src/assets/Take Flight-08.png";
var cactus4 = new Image();
cactus4.src = "src/assets/Take Flight-09.png";
var cactus5 = new Image();
cactus5.src = "src/assets/Take Flight-10.png";
var cactus6 = new Image();
cactus6.src = "src/assets/Take Flight-11.png";
var cactus7 = new Image();
cactus7.src = "src/assets/Take Flight-12.png";
var cactus8 = new Image();
cactus8.src = "src/assets/Take Flight-13.png";
var cloud1 = new Image();
cloud1.src = "src/assets/Take Flight-03.png";
var cloud2 = new Image();
cloud2.src = "src/assets/Take Flight-04.png";
var cactusBin = [{
  img: cactus1,
  width: 180,
  height: 300
}, {
  img: cactus2,
  width: 180,
  height: 300
}, {
  img: cactus3,
  width: 150,
  height: 250
}, {
  img: cactus4,
  width: 150,
  height: 140
}, {
  img: cactus5,
  width: 100,
  height: 100
}, {
  img: cactus6,
  width: 170,
  height: 150
}, {
  img: cactus7,
  width: 100,
  height: 150
}, {
  img: cactus8,
  width: 80,
  height: 280
}];
var cloudPositions = {
  cloud1: 100,
  cloud2: -330,
  cloud3: -730,
  cloud4: 700
};
ctx.translate(640, 360);

var keyDownHandler = function keyDownHandler(e) {
  if (e.key == "Right" || e.key == "ArrowRight") {
    rightPressed = true;
  } else if (e.key == "Left" || e.key == "ArrowLeft") {
    leftPressed = true;
  } else if (e.key == "space") {
    spacePressed = true;
  }
};

var keyUpHandler = function keyUpHandler(e) {
  if (e.key == "Right" || e.key == "ArrowRight") {
    rightPressed = false;
  } else if (e.key == "Left" || e.key == "ArrowLeft") {
    leftPressed = false;
  } else if (e.key == "space") {
    // restart();
    spacePressed = false;
  }
};

document.addEventListener("keydown", keyDownHandler, false);
document.addEventListener("keyup", keyUpHandler, false);

var drawHorizon = function drawHorizon() {
  ctx.beginPath();
  ctx.rect(-1000, y, 2000, 1500);
  ctx.fillStyle = "#e8e2a4";
  ctx.fill();
  ctx.closePath();
};

var drawRotation = function drawRotation() {
  ctx.font = "16px Arial";
  ctx.fillStyle = "#0095DD";
  ctx.fillText("Rotation: " + rotation, 1, 1);
};

var rotateCam = function rotateCam(num) {
  if (num < 100 && num > 0) {
    return ctx.rotate(Math.PI / 180 * 0.05);
  } else if (num > -100 && num < 0) {
    return ctx.rotate(Math.PI / 180 * -0.05);
  }
};

var drawBird = function drawBird() {
  ctx.save();
  ctx.translate(0, 150);
  ctx.rotate(Math.PI / 180 * -(rotation * 0.5 / 4)); // ctx.shadowBlur = 50;
  // ctx.shadowColor = 'black';
  // ctx.shadowOffsetY = 80;

  ctx.drawImage(birdImg, -125, -50, 250, 100); // ctx.beginPath();
  // // ctx.rect(-60, -10, 120, 20);
  // ctx.rect(-125, -50, 250, 100);
  // ctx.fillStyle = "blue";
  // ctx.fill();
  // ctx.closePath();

  ctx.restore();
};

var drawCactus = function drawCactus(x, y, w, h, color, img) {
  ctx.save(); // const place = -30 + x;
  // const width = 20 + w;
  // const height = 60 + h;
  // const growingX = place + gX;
  // const growingY =

  ctx.drawImage(img, x, y, w, h); // ctx.beginPath();
  // ctx.rect(x, y, w, h);
  // ctx.fillStyle = color;
  // ctx.fill();
  // ctx.closePath();

  ctx.restore();
};

var spawnCacti = function spawnCacti() {
  var x = Math.ceil(Math.random() * 840) * (Math.round(Math.random()) ? 1 : -1);
  var color = cactiColors[Math.floor(Math.random() * cactiColors.length)];
  var _cactusBin$Math$floor = cactusBin[Math.floor(Math.random() * cactusBin.length)],
      width = _cactusBin$Math$floor.width,
      height = _cactusBin$Math$floor.height,
      img = _cactusBin$Math$floor.img;
  cacti.unshift({
    x: x,
    y: -100,
    width: width,
    height: height,
    color: color,
    hInitial: 0,
    yOrd: 0,
    img: img
  }); //assign default variables store them in objects
};

var drawClouds = function drawClouds() {
  // ctx.beginPath();
  // ctx.arc(cloud1.sec1, -200, 50, 0, 2 * Math.PI);
  // ctx.arc(cloud1.sec2, -170, 40, 0, 2 * Math.PI);
  // ctx.arc(cloud1.sec3, -150, 30, 0, 2 * Math.PI);
  // ctx.fillStyle = "#add6d8";
  // ctx.fill();
  ctx.drawImage(cloud1, cloudPositions.cloud1, -200, 300, 200);
  ctx.drawImage(cloud2, cloudPositions.cloud2, -300, 300, 150);
  ctx.drawImage(cloud1, cloudPositions.cloud3, -200, 300, 200);
  ctx.drawImage(cloud2, cloudPositions.cloud4, -300, 300, 150); // ctx.beginPath();
  // ctx.arc(cloud2.sec1, -70, 40, 0, 2 * Math.PI);
  // ctx.arc(cloud2.sec2, -100, 40, 0, 2 * Math.PI);
  // ctx.arc(cloud2.sec3, -80, 50, 0, 2 * Math.PI);
  // ctx.fillStyle = "#add6d8";
  // ctx.fill();
};

var moveClouds = function moveClouds(num) {
  for (var cloud in cloudPositions) {
    var pos = cloudPositions[cloud];
    pos += num;
  }
};

var filterCacti = function filterCacti() {
  cacti = cacti.filter(function (cactus) {
    return cactus.y < 550;
  });
};

var animate = function animate() {
  ctx.clearRect(-1000, -1000, 2000, 2000);
  filterCacti();
  drawHorizon();
  drawClouds();
  drawRotation();
  drawBird(); //cactus spawn frequency

  if (counter === 55) {
    spawnCacti();
    counter = 0;
  }

  cacti.forEach(function (cactus) {
    cactus.x += turnX;
    var h = cactus.height;

    if (cactus.hInitial < cactus.height) {
      cactus.hInitial += 1;
      h = cactus.hInitial;
      cactus.yOrd -= 1;
    } else {
      cactus.yOrd += 1.49;
      cactus.y += 1.49; // cactus.width += cactus.width * 0.0014;
      // cactus.height += cactus.height * 0.0014;
      // cactus.height *= 1.0014;

      cactus.hInitial = cactus.height;
    } //cactus removal animation and yOrd speed control
    // if (cactus.width > 50) {
    //   cactus.yOrd += 1;
    //   cactus.height -= 1;
    // } else if (cactus.width > 27) {
    //   cactus.yOrd += 1;
    //   // cactus.color = "black";
    // } else if (cactus.width > 23) {
    //   cactus.yOrd += 0.5;
    //   // cactus.color = "red";
    // }


    if (cactus.y > 0) {// cactus.color = "red";
    } // cactus path change to account for perspective


    if (cactus.y > -90) {
      if (cactus.x > 100) {
        cactus.x += 0.55;
      } else if (cactus.x < -100) {
        cactus.x -= 0.55;
      } else if (cactus.x > 60) {
        cactus.x += 0.2;
      } else if (cactus.x < -60) {
        cactus.x -= 0.2;
      } else if (cactus.x > 80) {
        cactus.x += 0.4;
      } else if (cactus.x < -80) {
        cactus.x -= 0.4;
      } else if (cactus.x > 40) {
        cactus.x += 0.1;
      } else if (cactus.x < -40) {
        cactus.x -= 0.1;
      } else if (cactus.x > 20) {
        cactus.x += 0.05;
      } else if (cactus.x < -20) {
        cactus.x -= 0.05;
      }
    } // let cactusHit = cactus.y - ( h/5 );


    var leftHit = cactus.x + cactus.width; // if ((cactusHit < 20 && cactusHit > -10) && (cactus.x > -170 && cactus.x < 125)) {

    if (cactus.y < 3 && cactus.y > 0 && (cactus.x > -125 && cactus.x < 125 || leftHit > -125 && leftHit < 125)) {
      cactus.color = "purple"; // clearInterval(interval);
      // document.location.reload();
    }

    drawCactus(cactus.x, cactus.yOrd, cactus.width, h, cactus.color, cactus.img);
  });

  if (leftPressed) {
    if (turnX <= 0) {
      turnX += 0.055;
    } else if (turnX > 0 && turnX < 1.7) {
      turnX += 0.035;
    }

    moveClouds(0.61); //change value to shift cloud x position  

    if (rotation < 100 && rotation >= 0) {
      rotation += 1;
      rotateCam(rotation);
    } else if (rotation < 0) {
      rotation += 1;
      ctx.rotate(Math.PI / 180 * 0.05);
    }
  } else if (rightPressed) {
    if (turnX >= 0) {
      turnX -= 0.055;
    } else if (turnX < 0 && turnX > -1.7) {
      turnX -= 0.35;
    }

    moveClouds(-0.61); //change value to shift cloud x position 

    if (rotation > -100 && rotation <= 0) {
      rotation -= 1;
      rotateCam(rotation);
    } else if (rotation > 0) {
      rotation -= 1;
      ctx.rotate(Math.PI / 180 * -0.05);
    }
  } else {
    if (rotation > 0) {
      rotation -= 1;
      ctx.rotate(Math.PI / 180 * -0.05);
    } else if (rotation < 0) {
      rotation += 1;
      ctx.rotate(Math.PI / 180 * 0.05);
    } else {
      turnX = 0;
    }
  }

  counter += 1;
  requestAnimationFrame(animate);
}; // const interval = setInterval(animate, 10);


animate(); // if (spacePressed) {
//   interval();
// }
//on keydown the horizon rotates to a certain point
//on keyup the horizon returns to its initial state
//as the horizon shifts enemy elements/obstacles shift too
//they also add or decrease their x position depending on the key direction
//variable for time elapsed === high score
//high score saved and displayed
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YWtlX2ZsaWdodC8uL3NyYy9zdHlsZXMvaW5kZXguY3NzIiwid2VicGFjazovL3Rha2VfZmxpZ2h0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3Rha2VfZmxpZ2h0L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vdGFrZV9mbGlnaHQvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJyaWdodFByZXNzZWQiLCJsZWZ0UHJlc3NlZCIsInNwYWNlUHJlc3NlZCIsInR1cm5YIiwieSIsInJvdGF0aW9uSW5pdCIsInJvdGF0aW9uIiwiY291bnRlciIsImNhY3RpQ29sb3JzIiwiY2FjdGkiLCJiaXJkSW1nIiwiSW1hZ2UiLCJzcmMiLCJjYWN0dXMxIiwiY2FjdHVzMiIsImNhY3R1czMiLCJjYWN0dXM0IiwiY2FjdHVzNSIsImNhY3R1czYiLCJjYWN0dXM3IiwiY2FjdHVzOCIsImNsb3VkMSIsImNsb3VkMiIsImNhY3R1c0JpbiIsImltZyIsIndpZHRoIiwiaGVpZ2h0IiwiY2xvdWRQb3NpdGlvbnMiLCJjbG91ZDMiLCJjbG91ZDQiLCJ0cmFuc2xhdGUiLCJrZXlEb3duSGFuZGxlciIsImUiLCJrZXkiLCJrZXlVcEhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZHJhd0hvcml6b24iLCJiZWdpblBhdGgiLCJyZWN0IiwiZmlsbFN0eWxlIiwiZmlsbCIsImNsb3NlUGF0aCIsImRyYXdSb3RhdGlvbiIsImZvbnQiLCJmaWxsVGV4dCIsInJvdGF0ZUNhbSIsIm51bSIsInJvdGF0ZSIsIk1hdGgiLCJQSSIsImRyYXdCaXJkIiwic2F2ZSIsImRyYXdJbWFnZSIsInJlc3RvcmUiLCJkcmF3Q2FjdHVzIiwieCIsInciLCJoIiwiY29sb3IiLCJzcGF3bkNhY3RpIiwiY2VpbCIsInJhbmRvbSIsInJvdW5kIiwiZmxvb3IiLCJsZW5ndGgiLCJ1bnNoaWZ0IiwiaEluaXRpYWwiLCJ5T3JkIiwiZHJhd0Nsb3VkcyIsIm1vdmVDbG91ZHMiLCJjbG91ZCIsInBvcyIsImZpbHRlckNhY3RpIiwiZmlsdGVyIiwiY2FjdHVzIiwiYW5pbWF0ZSIsImNsZWFyUmVjdCIsImZvckVhY2giLCJsZWZ0SGl0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOzs7Ozs7O1VDQUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7Ozs7V0N0QkE7V0FDQTtXQUNBO1dBQ0Esc0RBQXNELGtCQUFrQjtXQUN4RTtXQUNBLCtDQUErQyxjQUFjO1dBQzdELEU7Ozs7Ozs7Ozs7OztBQ05BO0FBRUEsSUFBSUEsTUFBTSxHQUFHQyxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsV0FBeEIsQ0FBYjtBQUNBLElBQUlDLEdBQUcsR0FBR0gsTUFBTSxDQUFDSSxVQUFQLENBQWtCLElBQWxCLENBQVY7QUFDQSxJQUFJQyxZQUFZLEdBQUcsS0FBbkI7QUFDQSxJQUFJQyxXQUFXLEdBQUcsS0FBbEI7QUFDQSxJQUFJQyxZQUFZLEdBQUcsS0FBbkI7QUFDQSxJQUFJQyxLQUFLLEdBQUcsQ0FBWjtBQUNBLElBQUlDLENBQUMsR0FBRyxDQUFSO0FBQ0EsSUFBSUMsWUFBWSxHQUFHLENBQW5CO0FBQ0EsSUFBSUMsUUFBUSxHQUFHLENBQWY7QUFDQSxJQUFJQyxPQUFPLEdBQUcsQ0FBZDtBQUNBLElBQUlDLFdBQVcsR0FBRyxDQUFDLFNBQUQsRUFBWSxTQUFaLEVBQXVCLFNBQXZCLEVBQWtDLFNBQWxDLENBQWxCO0FBQ0EsSUFBSUMsS0FBSyxHQUFHLEVBQVo7QUFHQSxJQUFJQyxPQUFPLEdBQUcsSUFBSUMsS0FBSixFQUFkO0FBQ0FELE9BQU8sQ0FBQ0UsR0FBUixHQUFjLCtCQUFk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QUNDLEVBQUwsR0FBVSxHQUFYLEdBQWtCLElBQTdCO0FBQ0QsS0FITSxNQUdBO0FBQ0w5QyxXQUFLLEdBQUcsQ0FBUjtBQUNEO0FBQ0Y7O0FBQ0RJLFNBQU8sSUFBSSxDQUFYO0FBQ0F3RSx1QkFBcUIsQ0FBQ0osT0FBRCxDQUFyQjtBQUNELENBL0hELEMsQ0FrSUE7OztBQUNBQSxPQUFPLEcsQ0FDUDtBQUNBO0FBQ0E7QUFFSTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EsZ0MiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgJy4vc3R5bGVzL2luZGV4LmNzcyc7XG5cbnZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZseUNhbnZhc1wiKTtcbnZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xudmFyIHJpZ2h0UHJlc3NlZCA9IGZhbHNlO1xudmFyIGxlZnRQcmVzc2VkID0gZmFsc2U7XG52YXIgc3BhY2VQcmVzc2VkID0gZmFsc2U7XG52YXIgdHVyblggPSAwO1xudmFyIHkgPSAwO1xudmFyIHJvdGF0aW9uSW5pdCA9IDA7XG52YXIgcm90YXRpb24gPSAwO1xudmFyIGNvdW50ZXIgPSAwO1xudmFyIGNhY3RpQ29sb3JzID0gW1wiIzA3NmQwN1wiLCBcIiMyZTdhMmZcIiwgXCIjYTFkNmEyXCIsIFwiIzVlZjc1ZVwiXTtcbnZhciBjYWN0aSA9IFtdO1xuXG5cbnZhciBiaXJkSW1nID0gbmV3IEltYWdlKCk7XG5iaXJkSW1nLnNyYyA9IFwic3JjL2Fzc2V0cy9UYWtlIEZsaWdodC0wNS5wbmdcIjtcblxudmFyIGNhY3R1czEgPSBuZXcgSW1hZ2UoKTtcbmNhY3R1czEuc3JjID0gXCJzcmMvYXNzZXRzL1Rha2UgRmxpZ2h0LTA2LnBuZ1wiO1xuXG52YXIgY2FjdHVzMiA9IG5ldyBJbWFnZSgpO1xuY2FjdHVzMi5zcmMgPSBcInNyYy9hc3NldHMvVGFrZSBGbGlnaHQtMDcucG5nXCI7XG5cbnZhciBjYWN0dXMzID0gbmV3IEltYWdlKCk7XG5jYWN0dXMzLnNyYyA9IFwic3JjL2Fzc2V0cy9UYWtlIEZsaWdodC0wOC5wbmdcIjtcblxudmFyIGNhY3R1czQgPSBuZXcgSW1hZ2UoKTtcbmNhY3R1czQuc3JjID0gXCJzcmMvYXNzZXRzL1Rha2UgRmxpZ2h0LTA5LnBuZ1wiO1xuXG52YXIgY2FjdHVzNSA9IG5ldyBJbWFnZSgpO1xuY2FjdHVzNS5zcmMgPSBcInNyYy9hc3NldHMvVGFrZSBGbGlnaHQtMTAucG5nXCI7XG5cbnZhciBjYWN0dXM2ID0gbmV3IEltYWdlKCk7XG5jYWN0dXM2LnNyYyA9IFwic3JjL2Fzc2V0cy9UYWtlIEZsaWdodC0xMS5wbmdcIjtcblxudmFyIGNhY3R1czcgPSBuZXcgSW1hZ2UoKTtcbmNhY3R1czcuc3JjID0gXCJzcmMvYXNzZXRzL1Rha2UgRmxpZ2h0LTEyLnBuZ1wiO1xuXG52YXIgY2FjdHVzOCA9IG5ldyBJbWFnZSgpO1xuY2FjdHVzOC5zcmMgPSBcInNyYy9hc3NldHMvVGFrZSBGbGlnaHQtMTMucG5nXCI7XG5cbnZhciBjbG91ZDEgPSBuZXcgSW1hZ2UoKTtcbmNsb3VkMS5zcmMgPSBcInNyYy9hc3NldHMvVGFrZSBGbGlnaHQtMDMucG5nXCI7XG5cbnZhciBjbG91ZDIgPSBuZXcgSW1hZ2UoKTtcbmNsb3VkMi5zcmMgPSBcInNyYy9hc3NldHMvVGFrZSBGbGlnaHQtMDQucG5nXCI7XG5cbmNvbnN0IGNhY3R1c0JpbiA9IFtcbiAgeyBpbWc6IGNhY3R1czEsIHdpZHRoOiAxODAsIGhlaWdodDogMzAwIH0sXG4gIHsgaW1nOiBjYWN0dXMyLCB3aWR0aDogMTgwLCBoZWlnaHQ6IDMwMCB9LFxuICB7IGltZzogY2FjdHVzMywgd2lkdGg6IDE1MCwgaGVpZ2h0OiAyNTAgfSxcbiAgeyBpbWc6IGNhY3R1czQsIHdpZHRoOiAxNTAsIGhlaWdodDogMTQwIH0sXG4gIHsgaW1nOiBjYWN0dXM1LCB3aWR0aDogMTAwLCBoZWlnaHQ6IDEwMCB9LFxuICB7IGltZzogY2FjdHVzNiwgd2lkdGg6IDE3MCwgaGVpZ2h0OiAxNTAgfSxcbiAgeyBpbWc6IGNhY3R1czcsIHdpZHRoOiAxMDAsIGhlaWdodDogMTUwIH0sXG4gIHsgaW1nOiBjYWN0dXM4LCB3aWR0aDogODAsIGhlaWdodDogMjgwIH0sXG5dO1xuXG5jb25zdCBjbG91ZFBvc2l0aW9ucyA9IHtcbiAgY2xvdWQxOiAxMDAsXG4gIGNsb3VkMjogLTMzMCxcbiAgY2xvdWQzOiAtNzMwLFxuICBjbG91ZDQ6IDcwMCxcbn07XG5cblxuY3R4LnRyYW5zbGF0ZSg2NDAsIDM2MCk7XG5cblxuXG5jb25zdCBrZXlEb3duSGFuZGxlciA9IChlKSA9PiB7XG4gIGlmIChlLmtleSA9PSBcIlJpZ2h0XCIgfHwgZS5rZXkgPT0gXCJBcnJvd1JpZ2h0XCIpIHtcbiAgICByaWdodFByZXNzZWQgPSB0cnVlO1xuICB9XG4gIGVsc2UgaWYgKGUua2V5ID09IFwiTGVmdFwiIHx8IGUua2V5ID09IFwiQXJyb3dMZWZ0XCIpIHtcbiAgICBsZWZ0UHJlc3NlZCA9IHRydWU7XG4gIH0gZWxzZSBpZiAoZS5rZXkgPT0gXCJzcGFjZVwiKSB7XG4gICAgc3BhY2VQcmVzc2VkID0gdHJ1ZTtcbiAgfVxufTtcblxuY29uc3Qga2V5VXBIYW5kbGVyID0gKGUpID0+IHtcbiAgaWYgKGUua2V5ID09IFwiUmlnaHRcIiB8fCBlLmtleSA9PSBcIkFycm93UmlnaHRcIikge1xuICAgIHJpZ2h0UHJlc3NlZCA9IGZhbHNlO1xuICB9XG4gIGVsc2UgaWYgKGUua2V5ID09IFwiTGVmdFwiIHx8IGUua2V5ID09IFwiQXJyb3dMZWZ0XCIpIHtcbiAgICBsZWZ0UHJlc3NlZCA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKGUua2V5ID09IFwic3BhY2VcIikge1xuICAgIC8vIHJlc3RhcnQoKTtcbiAgICBzcGFjZVByZXNzZWQgPSBmYWxzZTtcbiAgfVxufTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwga2V5RG93bkhhbmRsZXIsIGZhbHNlKTtcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBrZXlVcEhhbmRsZXIsIGZhbHNlKTtcblxuY29uc3QgZHJhd0hvcml6b24gPSAoKSA9PiB7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LnJlY3QoLTEwMDAsIHksIDIwMDAsIDE1MDApO1xuXG4gIGN0eC5maWxsU3R5bGUgPSBcIiNlOGUyYTRcIjtcbiAgY3R4LmZpbGwoKTtcbiAgY3R4LmNsb3NlUGF0aCgpO1xufTtcblxuY29uc3QgZHJhd1JvdGF0aW9uID0gKCkgPT4ge1xuICBjdHguZm9udCA9IFwiMTZweCBBcmlhbFwiO1xuICBjdHguZmlsbFN0eWxlID0gXCIjMDA5NUREXCI7XG4gIGN0eC5maWxsVGV4dChcIlJvdGF0aW9uOiBcIiArIHJvdGF0aW9uLCAxLCAxKTtcbn07XG5cbmNvbnN0IHJvdGF0ZUNhbSA9IChudW0pID0+IHtcbiAgaWYgKG51bSA8IDEwMCAmJiBudW0gPiAwKSB7XG4gICAgcmV0dXJuIGN0eC5yb3RhdGUoKE1hdGguUEkgLyAxODApICogMC4wNSk7XG4gIH0gZWxzZSBpZiAobnVtID4gLTEwMCAmJiBudW0gPCAwKSB7XG4gICAgcmV0dXJuIGN0eC5yb3RhdGUoKE1hdGguUEkgLyAxODApICogLTAuMDUpO1xuICB9XG59O1xuXG5jb25zdCBkcmF3QmlyZCA9ICgpID0+IHtcbiAgY3R4LnNhdmUoKTtcbiAgXG4gIGN0eC50cmFuc2xhdGUoMCwgMTUwKTtcbiAgY3R4LnJvdGF0ZSgoTWF0aC5QSSAvIDE4MCkgKiAtKChyb3RhdGlvbiAqIDAuNSApIC8gNCkpO1xuXG4gIC8vIGN0eC5zaGFkb3dCbHVyID0gNTA7XG4gIC8vIGN0eC5zaGFkb3dDb2xvciA9ICdibGFjayc7XG4gIC8vIGN0eC5zaGFkb3dPZmZzZXRZID0gODA7XG4gIGN0eC5kcmF3SW1hZ2UoYmlyZEltZywgLTEyNSwgLTUwLCAyNTAsIDEwMCk7XG4gIC8vIGN0eC5iZWdpblBhdGgoKTtcbiAgLy8gLy8gY3R4LnJlY3QoLTYwLCAtMTAsIDEyMCwgMjApO1xuICAvLyBjdHgucmVjdCgtMTI1LCAtNTAsIDI1MCwgMTAwKTtcbiAgLy8gY3R4LmZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xuICAvLyBjdHguZmlsbCgpO1xuICAvLyBjdHguY2xvc2VQYXRoKCk7XG4gIFxuICBcbiAgY3R4LnJlc3RvcmUoKTtcbn07XG5cbmNvbnN0IGRyYXdDYWN0dXMgPSAoeCwgeSwgdywgaCwgY29sb3IsIGltZykgPT4ge1xuICBjdHguc2F2ZSgpO1xuICAvLyBjb25zdCBwbGFjZSA9IC0zMCArIHg7XG4gIC8vIGNvbnN0IHdpZHRoID0gMjAgKyB3O1xuICAvLyBjb25zdCBoZWlnaHQgPSA2MCArIGg7XG4gIC8vIGNvbnN0IGdyb3dpbmdYID0gcGxhY2UgKyBnWDtcbiAgLy8gY29uc3QgZ3Jvd2luZ1kgPVxuICBjdHguZHJhd0ltYWdlKGltZywgeCwgeSwgdywgaCk7XG4gIC8vIGN0eC5iZWdpblBhdGgoKTtcbiAgLy8gY3R4LnJlY3QoeCwgeSwgdywgaCk7XG4gIC8vIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgLy8gY3R4LmZpbGwoKTtcbiAgLy8gY3R4LmNsb3NlUGF0aCgpO1xuICBjdHgucmVzdG9yZSgpO1xufTtcblxuY29uc3Qgc3Bhd25DYWN0aSA9ICgpID0+IHtcbiAgbGV0IHggPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDg0MCkgKiAoTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKSA/IDEgOiAtMSk7XG4gIGxldCBjb2xvciA9IGNhY3RpQ29sb3JzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhY3RpQ29sb3JzLmxlbmd0aCldO1xuICBsZXQgeyB3aWR0aCwgaGVpZ2h0LCBpbWcgfSA9IGNhY3R1c0JpbltNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjYWN0dXNCaW4ubGVuZ3RoKV07XG4gIGNhY3RpLnVuc2hpZnQoe1xuICAgIHg6IHgsXG4gICAgeTogLTEwMCxcbiAgICB3aWR0aDogd2lkdGgsXG4gICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgY29sb3I6IGNvbG9yLFxuICAgIGhJbml0aWFsOiAwLFxuICAgIHlPcmQ6IDAsXG4gICAgaW1nOiBpbWdcbiAgfSk7XG4gIC8vYXNzaWduIGRlZmF1bHQgdmFyaWFibGVzIHN0b3JlIHRoZW0gaW4gb2JqZWN0c1xufTtcblxuY29uc3QgZHJhd0Nsb3VkcyA9ICgpID0+IHtcbiAgLy8gY3R4LmJlZ2luUGF0aCgpO1xuICAvLyBjdHguYXJjKGNsb3VkMS5zZWMxLCAtMjAwLCA1MCwgMCwgMiAqIE1hdGguUEkpO1xuICAvLyBjdHguYXJjKGNsb3VkMS5zZWMyLCAtMTcwLCA0MCwgMCwgMiAqIE1hdGguUEkpO1xuICAvLyBjdHguYXJjKGNsb3VkMS5zZWMzLCAtMTUwLCAzMCwgMCwgMiAqIE1hdGguUEkpO1xuICAvLyBjdHguZmlsbFN0eWxlID0gXCIjYWRkNmQ4XCI7XG4gIC8vIGN0eC5maWxsKCk7XG4gIGN0eC5kcmF3SW1hZ2UoY2xvdWQxLCBjbG91ZFBvc2l0aW9ucy5jbG91ZDEsIC0yMDAsIDMwMCwgMjAwKTtcbiAgY3R4LmRyYXdJbWFnZShjbG91ZDIsIGNsb3VkUG9zaXRpb25zLmNsb3VkMiwgLTMwMCwgMzAwLCAxNTApO1xuICBjdHguZHJhd0ltYWdlKGNsb3VkMSwgY2xvdWRQb3NpdGlvbnMuY2xvdWQzLCAtMjAwLCAzMDAsIDIwMCk7XG4gIGN0eC5kcmF3SW1hZ2UoY2xvdWQyLCBjbG91ZFBvc2l0aW9ucy5jbG91ZDQsIC0zMDAsIDMwMCwgMTUwKTtcblxuICAvLyBjdHguYmVnaW5QYXRoKCk7XG4gIC8vIGN0eC5hcmMoY2xvdWQyLnNlYzEsIC03MCwgNDAsIDAsIDIgKiBNYXRoLlBJKTtcbiAgLy8gY3R4LmFyYyhjbG91ZDIuc2VjMiwgLTEwMCwgNDAsIDAsIDIgKiBNYXRoLlBJKTtcbiAgLy8gY3R4LmFyYyhjbG91ZDIuc2VjMywgLTgwLCA1MCwgMCwgMiAqIE1hdGguUEkpO1xuICAvLyBjdHguZmlsbFN0eWxlID0gXCIjYWRkNmQ4XCI7XG4gIC8vIGN0eC5maWxsKCk7XG59O1xuXG5jb25zdCBtb3ZlQ2xvdWRzID0gKG51bSkgPT4ge1xuICBmb3IgKGNvbnN0IGNsb3VkIGluIGNsb3VkUG9zaXRpb25zKSB7XG4gICAgbGV0IHBvcyA9IGNsb3VkUG9zaXRpb25zW2Nsb3VkXTtcbiAgICBwb3MgKz0gbnVtO1xuICB9XG59O1xuXG5jb25zdCBmaWx0ZXJDYWN0aSA9ICgpID0+IHtcbiAgY2FjdGkgPSBjYWN0aS5maWx0ZXIoY2FjdHVzID0+ICgoY2FjdHVzLnkpIDwgNTUwKSk7XG59O1xuXG5jb25zdCBhbmltYXRlID0gKCkgPT4ge1xuICBcbiAgY3R4LmNsZWFyUmVjdCgtMTAwMCwgLTEwMDAsIDIwMDAsIDIwMDApO1xuICBmaWx0ZXJDYWN0aSgpO1xuICBkcmF3SG9yaXpvbigpO1xuICBkcmF3Q2xvdWRzKCk7XG4gIGRyYXdSb3RhdGlvbigpO1xuICBkcmF3QmlyZCgpO1xuXG4gIC8vY2FjdHVzIHNwYXduIGZyZXF1ZW5jeVxuICBpZiAoY291bnRlciA9PT0gNTUpIHtcbiAgICBzcGF3bkNhY3RpKCk7XG4gICAgY291bnRlciA9IDA7XG4gIH1cblxuXG4gIGNhY3RpLmZvckVhY2goY2FjdHVzID0+IHtcbiAgICBjYWN0dXMueCArPSB0dXJuWDtcbiAgICBsZXQgaCA9IGNhY3R1cy5oZWlnaHQ7XG4gICAgaWYgKGNhY3R1cy5oSW5pdGlhbCA8IGNhY3R1cy5oZWlnaHQpIHtcbiAgICAgIGNhY3R1cy5oSW5pdGlhbCArPSAxO1xuICAgICAgaCA9IGNhY3R1cy5oSW5pdGlhbDtcbiAgICAgIGNhY3R1cy55T3JkIC09IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY3R1cy55T3JkICs9IDEuNDk7XG4gICAgICBjYWN0dXMueSArPSAxLjQ5O1xuICAgICAgLy8gY2FjdHVzLndpZHRoICs9IGNhY3R1cy53aWR0aCAqIDAuMDAxNDtcbiAgICAgIC8vIGNhY3R1cy5oZWlnaHQgKz0gY2FjdHVzLmhlaWdodCAqIDAuMDAxNDtcbiAgICAgIC8vIGNhY3R1cy5oZWlnaHQgKj0gMS4wMDE0O1xuICAgICAgY2FjdHVzLmhJbml0aWFsID0gY2FjdHVzLmhlaWdodDtcbiAgICB9XG5cbiAgICAvL2NhY3R1cyByZW1vdmFsIGFuaW1hdGlvbiBhbmQgeU9yZCBzcGVlZCBjb250cm9sXG4gICAgLy8gaWYgKGNhY3R1cy53aWR0aCA+IDUwKSB7XG4gICAgLy8gICBjYWN0dXMueU9yZCArPSAxO1xuICAgIC8vICAgY2FjdHVzLmhlaWdodCAtPSAxO1xuICAgIC8vIH0gZWxzZSBpZiAoY2FjdHVzLndpZHRoID4gMjcpIHtcbiAgICAvLyAgIGNhY3R1cy55T3JkICs9IDE7XG4gICAgLy8gICAvLyBjYWN0dXMuY29sb3IgPSBcImJsYWNrXCI7XG4gICAgLy8gfSBlbHNlIGlmIChjYWN0dXMud2lkdGggPiAyMykge1xuICAgIC8vICAgY2FjdHVzLnlPcmQgKz0gMC41O1xuICAgIC8vICAgLy8gY2FjdHVzLmNvbG9yID0gXCJyZWRcIjtcbiAgICAvLyB9XG5cbiAgICBpZiAoY2FjdHVzLnkgPiAwKSB7XG4gICAgICAvLyBjYWN0dXMuY29sb3IgPSBcInJlZFwiO1xuICAgIH1cblxuICAgIC8vIGNhY3R1cyBwYXRoIGNoYW5nZSB0byBhY2NvdW50IGZvciBwZXJzcGVjdGl2ZVxuICAgIGlmIChjYWN0dXMueSA+IC05MCkge1xuICAgICAgaWYgKGNhY3R1cy54ID4gMTAwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuNTU7XG4gICAgICB9IGVsc2UgaWYgKGNhY3R1cy54IDwgLTEwMCkge1xuICAgICAgICBjYWN0dXMueCAtPSAwLjU1O1xuICAgICAgfSBlbHNlIGlmIChjYWN0dXMueCA+IDYwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuMjtcbiAgICAgIH0gZWxzZSBpZiAoY2FjdHVzLnggPCAtNjApIHtcbiAgICAgICAgY2FjdHVzLnggLT0gMC4yO1xuICAgICAgfSBlbHNlIGlmIChjYWN0dXMueCA+IDgwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuNDtcbiAgICAgIH0gZWxzZSBpZiAoY2FjdHVzLnggPCAtODApIHtcbiAgICAgICAgY2FjdHVzLnggLT0gMC40O1xuICAgICAgfSBlbHNlIGlmIChjYWN0dXMueCA+IDQwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuMTtcbiAgICAgIH0gZWxzZSBpZiAoY2FjdHVzLnggPCAtNDApIHtcbiAgICAgICAgY2FjdHVzLnggLT0gMC4xO1xuICAgICAgfSBlbHNlIGlmIChjYWN0dXMueCA+IDIwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuMDU7XG4gICAgICB9IGVsc2UgaWYgKGNhY3R1cy54IDwgLTIwKSB7XG4gICAgICAgIGNhY3R1cy54IC09IDAuMDU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbGV0IGNhY3R1c0hpdCA9IGNhY3R1cy55IC0gKCBoLzUgKTtcbiAgICBsZXQgbGVmdEhpdCA9IGNhY3R1cy54ICsgKGNhY3R1cy53aWR0aCk7XG5cbiAgICAvLyBpZiAoKGNhY3R1c0hpdCA8IDIwICYmIGNhY3R1c0hpdCA+IC0xMCkgJiYgKGNhY3R1cy54ID4gLTE3MCAmJiBjYWN0dXMueCA8IDEyNSkpIHtcbiAgICBpZiAoKGNhY3R1cy55IDwgMyAmJiBjYWN0dXMueSA+IDApICYmICgoY2FjdHVzLnggPiAtMTI1ICYmIGNhY3R1cy54IDwgMTI1KSB8fCAobGVmdEhpdCA+IC0xMjUgJiYgbGVmdEhpdCA8IDEyNSkpKSB7XG4gICAgICBjYWN0dXMuY29sb3IgPSBcInB1cnBsZVwiO1xuICAgICAgLy8gY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAvLyBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICB9XG5cbiAgICBkcmF3Q2FjdHVzKGNhY3R1cy54LCBjYWN0dXMueU9yZCwgY2FjdHVzLndpZHRoLCBoLCBjYWN0dXMuY29sb3IsIGNhY3R1cy5pbWcgKTtcbiAgfSk7XG4gIFxuICBpZiAobGVmdFByZXNzZWQpIHtcbiAgICBpZiAodHVyblggPD0gMCkgIHtcbiAgICAgIHR1cm5YICs9IDAuMDU1O1xuICAgIH0gZWxzZSBpZiAodHVyblggPiAwICYmIHR1cm5YIDwgMS43KSB7XG4gICAgICB0dXJuWCArPSAwLjAzNTtcbiAgICB9XG4gICAgbW92ZUNsb3VkcygwLjYxKTsgLy9jaGFuZ2UgdmFsdWUgdG8gc2hpZnQgY2xvdWQgeCBwb3NpdGlvbiAgXG4gICAgaWYgKHJvdGF0aW9uIDwgMTAwICYmIHJvdGF0aW9uID49IDApIHtcbiAgICAgIHJvdGF0aW9uICs9IDE7XG4gICAgICByb3RhdGVDYW0ocm90YXRpb24pO1xuICAgIH0gZWxzZSBpZiAocm90YXRpb24gPCAwKSB7XG4gICAgICByb3RhdGlvbiArPSAxO1xuICAgICAgY3R4LnJvdGF0ZSgoTWF0aC5QSSAvIDE4MCkgKiAwLjA1KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAocmlnaHRQcmVzc2VkKSB7XG4gICAgaWYgKHR1cm5YID49IDApIHtcbiAgICAgIHR1cm5YIC09IDAuMDU1O1xuICAgIH0gZWxzZSBpZiAodHVyblggPCAwICYmIHR1cm5YID4gLTEuNykge1xuICAgICAgdHVyblggLT0gMC4zNTtcbiAgICB9XG4gICAgbW92ZUNsb3VkcygtMC42MSk7IC8vY2hhbmdlIHZhbHVlIHRvIHNoaWZ0IGNsb3VkIHggcG9zaXRpb24gXG4gICAgaWYgKHJvdGF0aW9uID4gLTEwMCAmJiByb3RhdGlvbiA8PSAwKSB7XG4gICAgICByb3RhdGlvbiAtPSAxO1xuICAgICAgcm90YXRlQ2FtKHJvdGF0aW9uKTtcbiAgICB9IGVsc2UgaWYgKHJvdGF0aW9uID4gMCkge1xuICAgICAgcm90YXRpb24gLT0gMTtcbiAgICAgIGN0eC5yb3RhdGUoKE1hdGguUEkgLyAxODApICogLTAuMDUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAocm90YXRpb24gPiAwKSB7XG4gICAgICByb3RhdGlvbiAtPSAxO1xuICAgICAgY3R4LnJvdGF0ZSgoTWF0aC5QSSAvIDE4MCkgKiAtMC4wNSk7XG4gICAgfSBlbHNlIGlmIChyb3RhdGlvbiA8IDApIHtcbiAgICAgIHJvdGF0aW9uICs9IDE7XG4gICAgICBjdHgucm90YXRlKChNYXRoLlBJIC8gMTgwKSAqIDAuMDUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0dXJuWCA9IDA7XG4gICAgfVxuICB9XG4gIGNvdW50ZXIgKz0gMTtcbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpO1xufTtcblxuXG4vLyBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKGFuaW1hdGUsIDEwKTtcbmFuaW1hdGUoKTtcbi8vIGlmIChzcGFjZVByZXNzZWQpIHtcbi8vICAgaW50ZXJ2YWwoKTtcbi8vIH1cblxuICAgIC8vb24ga2V5ZG93biB0aGUgaG9yaXpvbiByb3RhdGVzIHRvIGEgY2VydGFpbiBwb2ludFxuICAgIC8vb24ga2V5dXAgdGhlIGhvcml6b24gcmV0dXJucyB0byBpdHMgaW5pdGlhbCBzdGF0ZVxuICAgIC8vYXMgdGhlIGhvcml6b24gc2hpZnRzIGVuZW15IGVsZW1lbnRzL29ic3RhY2xlcyBzaGlmdCB0b29cbiAgICAvL3RoZXkgYWxzbyBhZGQgb3IgZGVjcmVhc2UgdGhlaXIgeCBwb3NpdGlvbiBkZXBlbmRpbmcgb24gdGhlIGtleSBkaXJlY3Rpb25cblxuICAgIC8vdmFyaWFibGUgZm9yIHRpbWUgZWxhcHNlZCA9PT0gaGlnaCBzY29yZVxuICAgIC8vaGlnaCBzY29yZSBzYXZlZCBhbmQgZGlzcGxheWVkXG5cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==
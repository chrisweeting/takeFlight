/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/styles/index.css":
/*!******************************!*\
  !*** ./src/styles/index.css ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _styles_index_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./styles/index.css */ "./src/styles/index.css");

var canvas = document.getElementById("flyCanvas");
var ctx = canvas.getContext("2d");
var rightPressed = false;
var leftPressed = false;
var turnX = 0;
var y = 0;
var rotationInit = 0;
var rotation = 0;
var counter = 0;
var cactiColors = ["#076d07", "#2e7a2f", "#a1d6a2", "#5ef75e"];
var cacti = [// { x: -100, y: -100, width: 20, height: 100, color: "#076d07", hInitial: 0, yOrd: 0 },
  // { x: -40, y: -30, width: 20, height: 30, color: "#076d07", hInitial: 0, yOrd: 0 },
  // { x: 30, y: -40, width: 30, height: 40, color: "#2e7a2f", hInitial: 0, yOrd: 0 }
];
var cloud1 = {
  sec1: 100,
  sec2: 130,
  sec3: 80
};
var cloud2 = {
  sec1: -130,
  sec2: -100,
  sec3: -80
};
ctx.translate(640, 360);

var keyDownHandler = function keyDownHandler(e) {
  if (e.key == "Right" || e.key == "ArrowRight") {
    rightPressed = true;
  } else if (e.key == "Left" || e.key == "ArrowLeft") {
    leftPressed = true;
  }
};

var keyUpHandler = function keyUpHandler(e) {
  if (e.key == "Right" || e.key == "ArrowRight") {
    rightPressed = false;
  } else if (e.key == "Left" || e.key == "ArrowLeft") {
    leftPressed = false;
  }
};

document.addEventListener("keydown", keyDownHandler, false);
document.addEventListener("keyup", keyUpHandler, false);

var drawHorizon = function drawHorizon() {
  ctx.beginPath();
  ctx.rect(-1000, y, 2000, 1500);
  ctx.fillStyle = "#e8e2a4";
  ctx.fill();
  ctx.closePath();
};

var drawRotation = function drawRotation() {
  ctx.font = "16px Arial";
  ctx.fillStyle = "#0095DD";
  ctx.fillText("Rotation: " + rotation, 1, 1);
};

var rotateCam = function rotateCam(num) {
  if (num < 100 && num > 0) {
    return ctx.rotate(Math.PI / 180 * 0.05);
  } else if (num > -100 && num < 0) {
    return ctx.rotate(Math.PI / 180 * -0.05);
  }
};

var drawBird = function drawBird() {
  ctx.save();
  ctx.translate(0, 150);
  ctx.rotate(Math.PI / 180 * -(rotation * 0.5 / 4)); // ctx.shadowBlur = 50;
  // ctx.shadowColor = 'black';
  // ctx.shadowOffsetY = 80;

  ctx.beginPath();
  ctx.rect(-60, -10, 120, 20);
  ctx.fillStyle = "blue";
  ctx.fill();
  ctx.closePath();
  ctx.restore();
};

var drawCactus = function drawCactus(x, y, w, h, color) {
  ctx.save(); // const place = -30 + x;
  // const width = 20 + w;
  // const height = 60 + h;
  // const growingX = place + gX;
  // const growingY =

  ctx.beginPath();
  ctx.rect(x, y, w, h);
  ctx.fillStyle = color;
  ctx.fill();
  ctx.closePath();
  ctx.restore();
};

var spawnCacti = function spawnCacti() {
  var x = Math.ceil(Math.random() * 640) * (Math.round(Math.random()) ? 1 : -1);
  var color = cactiColors[Math.floor(Math.random() * cactiColors.length)];
  cacti.unshift({
    x: x,
    y: -100,
    width: 20,
    height: 100,
    color: color,
    hInitial: 0,
    yOrd: 0
  });
};

var drawClouds = function drawClouds() {
  ctx.beginPath();
  ctx.arc(cloud1.sec1, -200, 50, 0, 2 * Math.PI);
  ctx.arc(cloud1.sec2, -170, 40, 0, 2 * Math.PI);
  ctx.arc(cloud1.sec3, -150, 30, 0, 2 * Math.PI);
  ctx.fillStyle = "#add6d8";
  ctx.fill();
  ctx.beginPath();
  ctx.arc(cloud2.sec1, -70, 40, 0, 2 * Math.PI);
  ctx.arc(cloud2.sec2, -100, 40, 0, 2 * Math.PI);
  ctx.arc(cloud2.sec3, -80, 50, 0, 2 * Math.PI);
  ctx.fillStyle = "#add6d8";
  ctx.fill();
};

var moveClouds = function moveClouds(num) {
  for (var section in cloud1) {
    cloud1[section] += num;
  }

  for (var _section in cloud2) {
    cloud2[_section] += num;
  }
};

var filterCacti = function filterCacti() {
  cacti = cacti.filter(function (cactus) {
    return cactus.width < 65;
  });
};

var animate = function animate() {
  ctx.clearRect(-1000, -1000, 2000, 2000);
  filterCacti();
  drawHorizon();
  drawClouds();
  drawRotation();
  drawBird(); //cactus spawn frequency

  if (counter === 20) {
    spawnCacti();
    counter = 0;
  }

  cacti.forEach(function (cactus) {
    cactus.x += turnX;
    var h = cactus.height;

    if (cactus.hInitial < cactus.height) {
      cactus.hInitial += 1;
      h = cactus.hInitial;
      cactus.yOrd -= 1;
    } else {
      cactus.yOrd += 0.39;
      cactus.y += 0.39;
      cactus.width += cactus.width * 0.0014;
      cactus.height += cactus.height * 0.0014; // cactus.height *= 1.0014;

      cactus.hInitial = cactus.height;
    } //cactus removal animation and yOrd speed control


    if (cactus.width > 50) {
      cactus.yOrd += 1;
      cactus.height -= 1;
    } else if (cactus.width > 27) {
      cactus.yOrd += 1; // cactus.color = "black";
    } else if (cactus.width > 23) {
      cactus.yOrd += 0.5; // cactus.color = "red";
    }

    if (cactus.y > 0) {
      cactus.color = "red";
    } // cactus path change to account for perspective


    if (cactus.y > -90) {
      if (cactus.x > 100) {
        cactus.x += 0.55;
      } else if (cactus.x < -100) {
        cactus.x -= 0.55;
      } else if (cactus.x > 60) {
        cactus.x += 0.2;
      } else if (cactus.x < -60) {
        cactus.x -= 0.2;
      } else if (cactus.x > 80) {
        cactus.x += 0.4;
      } else if (cactus.x < -80) {
        cactus.x -= 0.4;
      } else if (cactus.x > 40) {
        cactus.x += 0.1;
      } else if (cactus.x < -40) {
        cactus.x -= 0.1;
      } else if (cactus.x > 20) {
        cactus.x += 0.05;
      } else if (cactus.x < -20) {
        cactus.x -= 0.05;
      }
    }

    var cactusHit = cactus.y + h / 6;

    if (cactusHit > -10 && cactusHit < 10 && cactus.x > -60 && cactus.x < 60) {
      cactus.color = "purple";
    }

    drawCactus(cactus.x, cactus.yOrd, cactus.width, h, cactus.color);
  });

  if (leftPressed) {
    if (turnX <= 0) {
      turnX += 0.075;
    } else if (turnX > 0 && turnX < 1.7) {
      turnX += 0.035;
    }

    moveClouds(0.61); //change value to shift cloud x position  

    if (rotation < 100 && rotation >= 0) {
      rotation += 1;
      rotateCam(rotation);
    } else if (rotation < 0) {
      rotation += 1;
      ctx.rotate(Math.PI / 180 * 0.05);
    }
  } else if (rightPressed) {
    if (turnX >= 0) {
      turnX -= 0.055;
    } else if (turnX < 0 && turnX > -1.7) {
      turnX -= 0.35;
    }

    moveClouds(-0.61); //change value to shift cloud x position 

    if (rotation > -100 && rotation <= 0) {
      rotation -= 1;
      rotateCam(rotation);
    } else if (rotation > 0) {
      rotation -= 1;
      ctx.rotate(Math.PI / 180 * -0.05);
    }
  } else {
    if (rotation > 0) {
      rotation -= 1;
      ctx.rotate(Math.PI / 180 * -0.05);
    } else if (rotation < 0) {
      rotation += 1;
      ctx.rotate(Math.PI / 180 * 0.05);
    } else {
      turnX = 0;
    }
  }

  counter += 1;
};

setInterval(animate, 10); //on keydown the horizon rotates to a certain point
//on keyup the horizon returns to its initial state
//as the horizon shifts enemy elements/obstacles shift too
//they also add or decrease their x position depending on the key direction
//variable for time elapsed === high score
//high score saved and displayed
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YWtlX2ZsaWdodC8uL3NyYy9zdHlsZXMvaW5kZXguY3NzIiwid2VicGFjazovL3Rha2VfZmxpZ2h0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3Rha2VfZmxpZ2h0L3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vdGFrZV9mbGlnaHQvLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiY2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJyaWdodFByZXNzZWQiLCJsZWZ0UHJlc3NlZCIsInR1cm5YIiwieSIsInJvdGF0aW9uSW5pdCIsInJvdGF0aW9uIiwiY291bnRlciIsImNhY3RpQ29sb3JzIiwiY2FjdGkiLCJjbG91ZDEiLCJzZWMxIiwic2VjMiIsInNlYzMiLCJjbG91ZDIiLCJ0cmFuc2xhdGUiLCJrZXlEb3duSGFuZGxlciIsImUiLCJrZXkiLCJrZXlVcEhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZHJhd0hvcml6b24iLCJiZWdpblBhdGgiLCJyZWN0IiwiZmlsbFN0eWxlIiwiZmlsbCIsImNsb3NlUGF0aCIsImRyYXdSb3RhdGlvbiIsImZvbnQiLCJmaWxsVGV4dCIsInJvdGF0ZUNhbSIsIm51bSIsInJvdGF0ZSIsIk1hdGgiLCJQSSIsImRyYXdCaXJkIiwic2F2ZSIsInJlc3RvcmUiLCJkcmF3Q2FjdHVzIiwieCIsInciLCJoIiwiY29sb3IiLCJzcGF3bkNhY3RpIiwiY2VpbCIsInJhbmRvbSIsInJvdW5kIiwiZmxvb3IiLCJsZW5ndGgiLCJ1bnNoaWZ0Iiwid2lkdGgiLCJoZWlnaHQiLCJoSW5pdGlhbCIsInlPcmQiLCJkcmF3Q2xvdWRzIiwiYXJjIiwibW92ZUNsb3VkcyIsInNlY3Rpb24iLCJmaWx0ZXJDYWN0aSIsImZpbHRlciIsImNhY3R1cyIsImFuaW1hdGUiLCJjbGVhclJlY3QiLCJmb3JFYWNoIiwiY2FjdHVzSGl0Iiwic2V0SW50ZXJ2YWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7Ozs7Ozs7VUNBQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBOztVQUVBO1VBQ0E7O1VBRUE7VUFDQTtVQUNBOzs7OztXQ3RCQTtXQUNBO1dBQ0E7V0FDQSxzREFBc0Qsa0JBQWtCO1dBQ3hFO1dBQ0EsK0NBQStDLGNBQWM7V0FDN0QsRTs7Ozs7Ozs7Ozs7O0FDTkE7QUFFQSxJQUFJQSxNQUFNLEdBQUdDLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixXQUF4QixDQUFiO0FBQ0EsSUFBSUMsR0FBRyxHQUFHSCxNQUFNLENBQUNJLFVBQVAsQ0FBa0IsSUFBbEIsQ0FBVjtBQUNBLElBQUlDLFlBQVksR0FBRyxLQUFuQjtBQUNBLElBQUlDLFdBQVcsR0FBRyxLQUFsQjtBQUNBLElBQUlDLEtBQUssR0FBRyxDQUFaO0FBQ0EsSUFBSUMsQ0FBQyxHQUFHLENBQVI7QUFDQSxJQUFJQyxZQUFZLEdBQUcsQ0FBbkI7QUFDQSxJQUFJQyxRQUFRLEdBQUcsQ0FBZjtBQUNBLElBQUlDLE9BQU8sR0FBRyxDQUFkO0FBQ0EsSUFBSUMsV0FBVyxHQUFHLENBQUMsU0FBRCxFQUFZLFNBQVosRUFBdUIsU0FBdkIsRUFBa0MsU0FBbEMsQ0FBbEI7QUFDQSxJQUFJQyxLQUFLLEdBQUcsQ0FDVjtBQUNBO0FBQ0E7QUFIVSxDQUFaO0FBS0EsSUFBSUMsTUFBTSxHQUFHO0FBQUVDLE1BQUksRUFBRSxHQUFSO0FBQWFDLE1BQUksRUFBRSxHQUFuQjtBQUF3QkMsTUFBSSxFQUFFO0FBQTlCLENBQWI7QUFDQSxJQUFJQyxNQUFNLEdBQUc7QUFBRUgsTUFBSSxFQUFFLENBQUMsR0FBVDtBQUFjQyxNQUFJLEVBQUUsQ0FBQyxHQUFyQjtBQUEwQkMsTUFBSSxFQUFFLENBQUM7QUFBakMsQ0FBYjtBQUVBZCxHQUFHLENBQUNnQixTQUFKLENBQWMsR0FBZCxFQUFtQixHQUFuQjs7QUFJQSxJQUFNQyxjQUFjLEdBQUcsU0FBakJBLGNBQWlCLENBQUNDLENBQUQsRUFBTztBQUM1QixNQUFJQSxDQUFDLENBQUNDLEdBQUYsSUFBUyxPQUFULElBQW9CRCxDQUFDLENBQUNDLEdBQUYsSUFBUyxZQUFqQyxFQUErQztBQUM3Q2pCLGdCQUFZLEdBQUcsSUFBZjtBQUNELEdBRkQsTUFHSyxJQUFJZ0IsQ0FBQyxDQUFDQyxHQUFGLElBQVMsTUFBVCxJQUFtQkQsQ0FBQyxDQUFDQyxHQUFGLElBQVMsV0FBaEMsRUFBNkM7QUFDaERoQixlQUFXLEdBQUcsSUFBZDtBQUNEO0FBQ0YsQ0FQRDs7QUFTQSxJQUFNaUIsWUFBWSxHQUFHLFNBQWZBLFlBQWUsQ0FBQ0YsQ0FBRCxFQUFPO0FBQzFCLE1BQUlBLENBQUMsQ0FBQ0MsR0FBRixJQUFTLE9BQVQsSUFBb0JELENBQUMsQ0FBQ0MsR0FBRixJQUFTLFlBQWpDLEVBQStDO0FBQzdDakIsZ0JBQVksR0FBRyxLQUFmO0FBQ0QsR0FGRCxNQUdLLElBQUlnQixDQUFDLENBQUNDLEdBQUYsSUFBUyxNQUFULElBQW1CRCxDQUFDLENBQUNDLEdBQUYsSUFBUyxXQUFoQyxFQUE2QztBQUNoRGhCLGVBQVcsR0FBRyxLQUFkO0FBQ0Q7QUFDRixDQVBEOztBQVNBTCxRQUFRLENBQUN1QixnQkFBVCxDQUEwQixTQUExQixFQUFxQ0osY0FBckMsRUFBcUQsS0FBckQ7QUFDQW5CLFFBQVEsQ0FBQ3VCLGdCQUFULENBQTBCLE9BQTFCLEVBQW1DRCxZQUFuQyxFQUFpRCxLQUFqRDs7QUFFQSxJQUFNRSxXQUFXLEdBQUcsU0FBZEEsV0FBYyxHQUFNO0FBQ3hCdEIsS0FBRyxDQUFDdUIsU0FBSjtBQUNBdkIsS0FBRyxDQUFDd0IsSUFBSixDQUFTLENBQUMsSUFBVixFQUFnQm5CLENBQWhCLEVBQW1CLElBQW5CLEVBQXlCLElBQXpCO0FBRUFMLEtBQUcsQ0FBQ3lCLFNBQUosR0FBZ0IsU0FBaEI7QUFDQXpCLEtBQUcsQ0FBQzBCLElBQUo7QUFDQTFCLEtBQUcsQ0FBQzJCLFNBQUo7QUFDRCxDQVBEOztBQVNBLElBQU1DLFlBQVksR0FBRyxTQUFmQSxZQUFlLEdBQU07QUFDekI1QixLQUFHLENBQUM2QixJQUFKLEdBQVcsWUFBWDtBQUNBN0IsS0FBRyxDQUFDeUIsU0FBSixHQUFnQixTQUFoQjtBQUNBekIsS0FBRyxDQUFDOEIsUUFBSixDQUFhLGVBQWV2QixRQUE1QixFQUFzQyxDQUF0QyxFQUF5QyxDQUF6QztBQUNELENBSkQ7O0FBTUEsSUFBTXdCLFNBQVMsR0FBRyxTQUFaQSxTQUFZLENBQUNDLEdBQUQsRUFBUztBQUN6QixNQUFJQSxHQUFHLEdBQUcsR0FBTixJQUFhQSxHQUFHLEdBQUcsQ0FBdkIsRUFBMEI7QUFDeEIsV0FBT2hDLEdBQUcsQ0FBQ2lDLE1BQUosQ0FBWUMsSUFBSSxDQUFDQyxFQUFMLEdBQVUsR0FBWCxHQUFrQixJQUE3QixDQUFQO0FBQ0QsR0FGRCxNQUVPLElBQUlILEdBQUcsR0FBRyxDQUFDLEdBQVAsSUFBY0EsR0FBRyxHQUFHLENBQXhCLEVBQTJCO0FBQ2hDLFdBQU9oQyxHQUFHLENBQUNpQyxNQUFKLENBQVlDLElBQUksQ0FBQ0MsRUFBTCxHQUFVLEdBQVgsR0FBa0IsQ0FBQyxJQUE5QixDQUFQO0FBQ0Q7QUFDRixDQU5EOztBQVFBLElBQU1DLFFBQVEsR0FBRyxTQUFYQSxRQUFXLEdBQU07QUFDckJwQyxLQUFHLENBQUNxQyxJQUFKO0FBRUFyQyxLQUFHLENBQUNnQixTQUFKLENBQWMsQ0FBZCxFQUFpQixHQUFqQjtBQUNBaEIsS0FBRyxDQUFDaUMsTUFBSixDQUFZQyxJQUFJLENBQUNDLEVBQUwsR0FBVSxHQUFYLEdBQWtCLEVBQUc1QixRQUFRLEdBQUcsR0FBWixHQUFvQixDQUF0QixDQUE3QixFQUpxQixDQU1yQjtBQUNBO0FBQ0E7O0FBRUFQLEtBQUcsQ0FBQ3VCLFNBQUo7QUFDQXZCLEtBQUcsQ0FBQ3dCLElBQUosQ0FBUyxDQUFDLEVBQVYsRUFBYyxDQUFDLEVBQWYsRUFBbUIsR0FBbkIsRUFBd0IsRUFBeEI7QUFDQXhCLEtBQUcsQ0FBQ3lCLFNBQUosR0FBZ0IsTUFBaEI7QUFDQXpCLEtBQUcsQ0FBQzBCLElBQUo7QUFDQTFCLEtBQUcsQ0FBQzJCLFNBQUo7QUFHQTNCLEtBQUcsQ0FBQ3NDLE9BQUo7QUFDRCxDQWxCRDs7QUFvQkEsSUFBTUMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBQ0MsQ0FBRCxFQUFJbkMsQ0FBSixFQUFPb0MsQ0FBUCxFQUFVQyxDQUFWLEVBQWFDLEtBQWIsRUFBdUI7QUFDeEMzQyxLQUFHLENBQUNxQyxJQUFKLEdBRHdDLENBRXhDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0FyQyxLQUFHLENBQUN1QixTQUFKO0FBQ0F2QixLQUFHLENBQUN3QixJQUFKLENBQVNnQixDQUFULEVBQVluQyxDQUFaLEVBQWVvQyxDQUFmLEVBQWtCQyxDQUFsQjtBQUNBMUMsS0FBRyxDQUFDeUIsU0FBSixHQUFnQmtCLEtBQWhCO0FBQ0EzQyxLQUFHLENBQUMwQixJQUFKO0FBQ0ExQixLQUFHLENBQUMyQixTQUFKO0FBQ0EzQixLQUFHLENBQUNzQyxPQUFKO0FBQ0QsQ0FiRDs7QUFlQSxJQUFNTSxVQUFVLEdBQUcsU0FBYkEsVUFBYSxHQUFNO0FBQ3ZCLE1BQUlKLENBQUMsR0FBR04sSUFBSSxDQUFDVyxJQUFMLENBQVVYLElBQUksQ0FBQ1ksTUFBTCxLQUFnQixHQUExQixLQUFrQ1osSUFBSSxDQUFDYSxLQUFMLENBQVdiLElBQUksQ0FBQ1ksTUFBTCxFQUFYLElBQTRCLENBQTVCLEdBQWdDLENBQUMsQ0FBbkUsQ0FBUjtBQUNBLE1BQUlILEtBQUssR0FBR2xDLFdBQVcsQ0FBQ3lCLElBQUksQ0FBQ2MsS0FBTCxDQUFXZCxJQUFJLENBQUNZLE1BQUwsS0FBZ0JyQyxXQUFXLENBQUN3QyxNQUF2QyxDQUFELENBQXZCO0FBQ0F2QyxPQUFLLENBQUN3QyxPQUFOLENBQWM7QUFDWlYsS0FBQyxFQUFFQSxDQURTO0FBRVpuQyxLQUFDLEVBQUUsQ0FBQyxHQUZRO0FBR1o4QyxTQUFLLEVBQUUsRUFISztBQUlaQyxVQUFNLEVBQUUsR0FKSTtBQUtaVCxTQUFLLEVBQUVBLEtBTEs7QUFNWlUsWUFBUSxFQUFFLENBTkU7QUFPWkMsUUFBSSxFQUFFO0FBUE0sR0FBZDtBQVNELENBWkQ7O0FBY0EsSUFBTUMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsR0FBTTtBQUN2QnZELEtBQUcsQ0FBQ3VCLFNBQUo7QUFDQXZCLEtBQUcsQ0FBQ3dELEdBQUosQ0FBUTdDLE1BQU0sQ0FBQ0MsSUFBZixFQUFxQixDQUFDLEdBQXRCLEVBQTJCLEVBQTNCLEVBQStCLENBQS9CLEVBQWtDLElBQUlzQixJQUFJLENBQUNDLEVBQTNDO0FBQ0FuQyxLQUFHLENBQUN3RCxHQUFKLENBQVE3QyxNQUFNLENBQUNFLElBQWYsRUFBcUIsQ0FBQyxHQUF0QixFQUEyQixFQUEzQixFQUErQixDQUEvQixFQUFrQyxJQUFJcUIsSUFBSSxDQUFDQyxFQUEzQztBQUNBbkMsS0FBRyxDQUFDd0QsR0FBSixDQUFRN0MsTUFBTSxDQUFDRyxJQUFmLEVBQXFCLENBQUMsR0FBdEIsRUFBMkIsRUFBM0IsRUFBK0IsQ0FBL0IsRUFBa0MsSUFBSW9CLElBQUksQ0FBQ0MsRUFBM0M7QUFDQW5DLEtBQUcsQ0FBQ3lCLFNBQUosR0FBZ0IsU0FBaEI7QUFDQXpCLEtBQUcsQ0FBQzBCLElBQUo7QUFFQTFCLEtBQUcsQ0FBQ3VCLFNBQUo7QUFDQXZCLEtBQUcsQ0FBQ3dELEdBQUosQ0FBUXpDLE1BQU0sQ0FBQ0gsSUFBZixFQUFxQixDQUFDLEVBQXRCLEVBQTBCLEVBQTFCLEVBQThCLENBQTlCLEVBQWlDLElBQUlzQixJQUFJLENBQUNDLEVBQTFDO0FBQ0FuQyxLQUFHLENBQUN3RCxHQUFKLENBQVF6QyxNQUFNLENBQUNGLElBQWYsRUFBcUIsQ0FBQyxHQUF0QixFQUEyQixFQUEzQixFQUErQixDQUEvQixFQUFrQyxJQUFJcUIsSUFBSSxDQUFDQyxFQUEzQztBQUNBbkMsS0FBRyxDQUFDd0QsR0FBSixDQUFRekMsTUFBTSxDQUFDRCxJQUFmLEVBQXFCLENBQUMsRUFBdEIsRUFBMEIsRUFBMUIsRUFBOEIsQ0FBOUIsRUFBaUMsSUFBSW9CLElBQUksQ0FBQ0MsRUFBMUM7QUFDQW5DLEtBQUcsQ0FBQ3lCLFNBQUosR0FBZ0IsU0FBaEI7QUFDQXpCLEtBQUcsQ0FBQzBCLElBQUo7QUFDRCxDQWREOztBQWdCQSxJQUFNK0IsVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBQ3pCLEdBQUQsRUFBUztBQUMxQixPQUFLLElBQU0wQixPQUFYLElBQXNCL0MsTUFBdEIsRUFBOEI7QUFDNUJBLFVBQU0sQ0FBQytDLE9BQUQsQ0FBTixJQUFtQjFCLEdBQW5CO0FBQ0Q7O0FBQ0QsT0FBSyxJQUFNMEIsUUFBWCxJQUFzQjNDLE1BQXRCLEVBQThCO0FBQzVCQSxVQUFNLENBQUMyQyxRQUFELENBQU4sSUFBbUIxQixHQUFuQjtBQUNEO0FBQ0YsQ0FQRDs7QUFTQSxJQUFNMkIsV0FBVyxHQUFHLFNBQWRBLFdBQWMsR0FBTTtBQUN4QmpELE9BQUssR0FBR0EsS0FBSyxDQUFDa0QsTUFBTixDQUFhLFVBQUFDLE1BQU07QUFBQSxXQUFLQSxNQUFNLENBQUNWLEtBQVAsR0FBZSxFQUFwQjtBQUFBLEdBQW5CLENBQVI7QUFDRCxDQUZEOztBQUlBLElBQU1XLE9BQU8sR0FBRyxTQUFWQSxPQUFVLEdBQU07QUFDcEI5RCxLQUFHLENBQUMrRCxTQUFKLENBQWMsQ0FBQyxJQUFmLEVBQXFCLENBQUMsSUFBdEIsRUFBNEIsSUFBNUIsRUFBa0MsSUFBbEM7QUFDQUosYUFBVztBQUNYckMsYUFBVztBQUNYaUMsWUFBVTtBQUNWM0IsY0FBWTtBQUNaUSxVQUFRLEdBTlksQ0FRcEI7O0FBQ0EsTUFBSTVCLE9BQU8sS0FBSyxFQUFoQixFQUFvQjtBQUNsQm9DLGNBQVU7QUFDVnBDLFdBQU8sR0FBRyxDQUFWO0FBQ0Q7O0FBR0RFLE9BQUssQ0FBQ3NELE9BQU4sQ0FBYyxVQUFBSCxNQUFNLEVBQUk7QUFDdEJBLFVBQU0sQ0FBQ3JCLENBQVAsSUFBWXBDLEtBQVo7QUFDQSxRQUFJc0MsQ0FBQyxHQUFHbUIsTUFBTSxDQUFDVCxNQUFmOztBQUNBLFFBQUlTLE1BQU0sQ0FBQ1IsUUFBUCxHQUFrQlEsTUFBTSxDQUFDVCxNQUE3QixFQUFxQztBQUNuQ1MsWUFBTSxDQUFDUixRQUFQLElBQW1CLENBQW5CO0FBQ0FYLE9BQUMsR0FBR21CLE1BQU0sQ0FBQ1IsUUFBWDtBQUNBUSxZQUFNLENBQUNQLElBQVAsSUFBZSxDQUFmO0FBQ0QsS0FKRCxNQUlPO0FBQ0xPLFlBQU0sQ0FBQ1AsSUFBUCxJQUFlLElBQWY7QUFDQU8sWUFBTSxDQUFDeEQsQ0FBUCxJQUFZLElBQVo7QUFDQXdELFlBQU0sQ0FBQ1YsS0FBUCxJQUFnQlUsTUFBTSxDQUFDVixLQUFQLEdBQWUsTUFBL0I7QUFDQVUsWUFBTSxDQUFDVCxNQUFQLElBQWlCUyxNQUFNLENBQUNULE1BQVAsR0FBZ0IsTUFBakMsQ0FKSyxDQUtMOztBQUNBUyxZQUFNLENBQUNSLFFBQVAsR0FBa0JRLE1BQU0sQ0FBQ1QsTUFBekI7QUFDRCxLQWRxQixDQWdCdEI7OztBQUNBLFFBQUlTLE1BQU0sQ0FBQ1YsS0FBUCxHQUFlLEVBQW5CLEVBQXVCO0FBQ3JCVSxZQUFNLENBQUNQLElBQVAsSUFBZSxDQUFmO0FBQ0FPLFlBQU0sQ0FBQ1QsTUFBUCxJQUFpQixDQUFqQjtBQUNELEtBSEQsTUFHTyxJQUFJUyxNQUFNLENBQUNWLEtBQVAsR0FBZSxFQUFuQixFQUF1QjtBQUM1QlUsWUFBTSxDQUFDUCxJQUFQLElBQWUsQ0FBZixDQUQ0QixDQUU1QjtBQUNELEtBSE0sTUFHQSxJQUFJTyxNQUFNLENBQUNWLEtBQVAsR0FBZSxFQUFuQixFQUF1QjtBQUM1QlUsWUFBTSxDQUFDUCxJQUFQLElBQWUsR0FBZixDQUQ0QixDQUU1QjtBQUNEOztBQUVELFFBQUlPLE1BQU0sQ0FBQ3hELENBQVAsR0FBVyxDQUFmLEVBQWtCO0FBQ2hCd0QsWUFBTSxDQUFDbEIsS0FBUCxHQUFlLEtBQWY7QUFDRCxLQTlCcUIsQ0FnQ3RCOzs7QUFDQSxRQUFJa0IsTUFBTSxDQUFDeEQsQ0FBUCxHQUFXLENBQUMsRUFBaEIsRUFBb0I7QUFDbEIsVUFBSXdELE1BQU0sQ0FBQ3JCLENBQVAsR0FBVyxHQUFmLEVBQW9CO0FBQ2xCcUIsY0FBTSxDQUFDckIsQ0FBUCxJQUFZLElBQVo7QUFDRCxPQUZELE1BRU8sSUFBSXFCLE1BQU0sQ0FBQ3JCLENBQVAsR0FBVyxDQUFDLEdBQWhCLEVBQXFCO0FBQzFCcUIsY0FBTSxDQUFDckIsQ0FBUCxJQUFZLElBQVo7QUFDRCxPQUZNLE1BRUEsSUFBSXFCLE1BQU0sQ0FBQ3JCLENBQVAsR0FBVyxFQUFmLEVBQW1CO0FBQ3hCcUIsY0FBTSxDQUFDckIsQ0FBUCxJQUFZLEdBQVo7QUFDRCxPQUZNLE1BRUEsSUFBSXFCLE1BQU0sQ0FBQ3JCLENBQVAsR0FBVyxDQUFDLEVBQWhCLEVBQW9CO0FBQ3pCcUIsY0FBTSxDQUFDckIsQ0FBUCxJQUFZLEdBQVo7QUFDRCxPQUZNLE1BRUEsSUFBSXFCLE1BQU0sQ0FBQ3JCLENBQVAsR0FBVyxFQUFmLEVBQW1CO0FBQ3hCcUIsY0FBTSxDQUFDckIsQ0FBUCxJQUFZLEdBQVo7QUFDRCxPQUZNLE1BRUEsSUFBSXFCLE1BQU0sQ0FBQ3JCLENBQVAsR0FBVyxDQUFDLEVBQWhCLEVBQW9CO0FBQ3pCcUIsY0FBTSxDQUFDckIsQ0FBUCxJQUFZLEdBQVo7QUFDRCxPQUZNLE1BRUEsSUFBSXFCLE1BQU0sQ0FBQ3JCLENBQVAsR0FBVyxFQUFmLEVBQW1CO0FBQ3hCcUIsY0FBTSxDQUFDckIsQ0FBUCxJQUFZLEdBQVo7QUFDRCxPQUZNLE1BRUEsSUFBSXFCLE1BQU0sQ0FBQ3JCLENBQVAsR0FBVyxDQUFDLEVBQWhCLEVBQW9CO0FBQ3pCcUIsY0FBTSxDQUFDckIsQ0FBUCxJQUFZLEdBQVo7QUFDRCxPQUZNLE1BRUEsSUFBSXFCLE1BQU0sQ0FBQ3JCLENBQVAsR0FBVyxFQUFmLEVBQW1CO0FBQ3hCcUIsY0FBTSxDQUFDckIsQ0FBUCxJQUFZLElBQVo7QUFDRCxPQUZNLE1BRUEsSUFBSXFCLE1BQU0sQ0FBQ3JCLENBQVAsR0FBVyxDQUFDLEVBQWhCLEVBQW9CO0FBQ3pCcUIsY0FBTSxDQUFDckIsQ0FBUCxJQUFZLElBQVo7QUFDRDtBQUNGOztBQUVELFFBQUl5QixTQUFTLEdBQUdKLE1BQU0sQ0FBQ3hELENBQVAsR0FBYXFDLENBQUMsR0FBRyxDQUFqQzs7QUFFQSxRQUFLdUIsU0FBUyxHQUFHLENBQUMsRUFBYixJQUFtQkEsU0FBUyxHQUFHLEVBQWhDLElBQXdDSixNQUFNLENBQUNyQixDQUFQLEdBQVcsQ0FBQyxFQUFaLElBQWtCcUIsTUFBTSxDQUFDckIsQ0FBUCxHQUFXLEVBQXpFLEVBQThFO0FBQzVFcUIsWUFBTSxDQUFDbEIsS0FBUCxHQUFlLFFBQWY7QUFDRDs7QUFFREosY0FBVSxDQUFDc0IsTUFBTSxDQUFDckIsQ0FBUixFQUFXcUIsTUFBTSxDQUFDUCxJQUFsQixFQUF3Qk8sTUFBTSxDQUFDVixLQUEvQixFQUFzQ1QsQ0FBdEMsRUFBeUNtQixNQUFNLENBQUNsQixLQUFoRCxDQUFWO0FBQ0QsR0FoRUQ7O0FBa0VBLE1BQUl4QyxXQUFKLEVBQWlCO0FBQ2YsUUFBSUMsS0FBSyxJQUFJLENBQWIsRUFBaUI7QUFDZkEsV0FBSyxJQUFJLEtBQVQ7QUFDRCxLQUZELE1BRU8sSUFBSUEsS0FBSyxHQUFHLENBQVIsSUFBYUEsS0FBSyxHQUFHLEdBQXpCLEVBQThCO0FBQ25DQSxXQUFLLElBQUksS0FBVDtBQUNEOztBQUNEcUQsY0FBVSxDQUFDLElBQUQsQ0FBVixDQU5lLENBTUc7O0FBQ2xCLFFBQUlsRCxRQUFRLEdBQUcsR0FBWCxJQUFrQkEsUUFBUSxJQUFJLENBQWxDLEVBQXFDO0FBQ25DQSxjQUFRLElBQUksQ0FBWjtBQUNBd0IsZUFBUyxDQUFDeEIsUUFBRCxDQUFUO0FBQ0QsS0FIRCxNQUdPLElBQUlBLFFBQVEsR0FBRyxDQUFmLEVBQWtCO0FBQ3ZCQSxjQUFRLElBQUksQ0FBWjtBQUNBUCxTQUFHLENBQUNpQyxNQUFKLENBQVlDLElBQUksQ0FBQ0MsRUFBTCxHQUFVLEdBQVgsR0FBa0IsSUFBN0I7QUFDRDtBQUNGLEdBZEQsTUFjTyxJQUFJakMsWUFBSixFQUFrQjtBQUN2QixRQUFJRSxLQUFLLElBQUksQ0FBYixFQUFnQjtBQUNkQSxXQUFLLElBQUksS0FBVDtBQUNELEtBRkQsTUFFTyxJQUFJQSxLQUFLLEdBQUcsQ0FBUixJQUFhQSxLQUFLLEdBQUcsQ0FBQyxHQUExQixFQUErQjtBQUNwQ0EsV0FBSyxJQUFJLElBQVQ7QUFDRDs7QUFDRHFELGNBQVUsQ0FBQyxDQUFDLElBQUYsQ0FBVixDQU51QixDQU1KOztBQUNuQixRQUFJbEQsUUFBUSxHQUFHLENBQUMsR0FBWixJQUFtQkEsUUFBUSxJQUFJLENBQW5DLEVBQXNDO0FBQ3BDQSxjQUFRLElBQUksQ0FBWjtBQUNBd0IsZUFBUyxDQUFDeEIsUUFBRCxDQUFUO0FBQ0QsS0FIRCxNQUdPLElBQUlBLFFBQVEsR0FBRyxDQUFmLEVBQWtCO0FBQ3ZCQSxjQUFRLElBQUksQ0FBWjtBQUNBUCxTQUFHLENBQUNpQyxNQUFKLENBQVlDLElBQUksQ0FBQ0MsRUFBTCxHQUFVLEdBQVgsR0FBa0IsQ0FBQyxJQUE5QjtBQUNEO0FBQ0YsR0FkTSxNQWNBO0FBQ0wsUUFBSTVCLFFBQVEsR0FBRyxDQUFmLEVBQWtCO0FBQ2hCQSxjQUFRLElBQUksQ0FBWjtBQUNBUCxTQUFHLENBQUNpQyxNQUFKLENBQVlDLElBQUksQ0FBQ0MsRUFBTCxHQUFVLEdBQVgsR0FBa0IsQ0FBQyxJQUE5QjtBQUNELEtBSEQsTUFHTyxJQUFJNUIsUUFBUSxHQUFHLENBQWYsRUFBa0I7QUFDdkJBLGNBQVEsSUFBSSxDQUFaO0FBQ0FQLFNBQUcsQ0FBQ2lDLE1BQUosQ0FBWUMsSUFBSSxDQUFDQyxFQUFMLEdBQVUsR0FBWCxHQUFrQixJQUE3QjtBQUNELEtBSE0sTUFHQTtBQUNML0IsV0FBSyxHQUFHLENBQVI7QUFDRDtBQUNGOztBQUNESSxTQUFPLElBQUksQ0FBWDtBQUNELENBekhEOztBQTRIQTBELFdBQVcsQ0FBQ0osT0FBRCxFQUFVLEVBQVYsQ0FBWCxDLENBRUk7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBLGdDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0ICcuL3N0eWxlcy9pbmRleC5jc3MnO1xuXG52YXIgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmbHlDYW52YXNcIik7XG52YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbnZhciByaWdodFByZXNzZWQgPSBmYWxzZTtcbnZhciBsZWZ0UHJlc3NlZCA9IGZhbHNlO1xudmFyIHR1cm5YID0gMDtcbnZhciB5ID0gMDtcbnZhciByb3RhdGlvbkluaXQgPSAwO1xudmFyIHJvdGF0aW9uID0gMDtcbnZhciBjb3VudGVyID0gMDtcbnZhciBjYWN0aUNvbG9ycyA9IFtcIiMwNzZkMDdcIiwgXCIjMmU3YTJmXCIsIFwiI2ExZDZhMlwiLCBcIiM1ZWY3NWVcIl07XG52YXIgY2FjdGkgPSBbXG4gIC8vIHsgeDogLTEwMCwgeTogLTEwMCwgd2lkdGg6IDIwLCBoZWlnaHQ6IDEwMCwgY29sb3I6IFwiIzA3NmQwN1wiLCBoSW5pdGlhbDogMCwgeU9yZDogMCB9LFxuICAvLyB7IHg6IC00MCwgeTogLTMwLCB3aWR0aDogMjAsIGhlaWdodDogMzAsIGNvbG9yOiBcIiMwNzZkMDdcIiwgaEluaXRpYWw6IDAsIHlPcmQ6IDAgfSxcbiAgLy8geyB4OiAzMCwgeTogLTQwLCB3aWR0aDogMzAsIGhlaWdodDogNDAsIGNvbG9yOiBcIiMyZTdhMmZcIiwgaEluaXRpYWw6IDAsIHlPcmQ6IDAgfVxuXTtcbnZhciBjbG91ZDEgPSB7IHNlYzE6IDEwMCwgc2VjMjogMTMwLCBzZWMzOiA4MCB9O1xudmFyIGNsb3VkMiA9IHsgc2VjMTogLTEzMCwgc2VjMjogLTEwMCwgc2VjMzogLTgwIH07XG5cbmN0eC50cmFuc2xhdGUoNjQwLCAzNjApO1xuXG5cblxuY29uc3Qga2V5RG93bkhhbmRsZXIgPSAoZSkgPT4ge1xuICBpZiAoZS5rZXkgPT0gXCJSaWdodFwiIHx8IGUua2V5ID09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgcmlnaHRQcmVzc2VkID0gdHJ1ZTtcbiAgfVxuICBlbHNlIGlmIChlLmtleSA9PSBcIkxlZnRcIiB8fCBlLmtleSA9PSBcIkFycm93TGVmdFwiKSB7XG4gICAgbGVmdFByZXNzZWQgPSB0cnVlO1xuICB9XG59O1xuXG5jb25zdCBrZXlVcEhhbmRsZXIgPSAoZSkgPT4ge1xuICBpZiAoZS5rZXkgPT0gXCJSaWdodFwiIHx8IGUua2V5ID09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgcmlnaHRQcmVzc2VkID0gZmFsc2U7XG4gIH1cbiAgZWxzZSBpZiAoZS5rZXkgPT0gXCJMZWZ0XCIgfHwgZS5rZXkgPT0gXCJBcnJvd0xlZnRcIikge1xuICAgIGxlZnRQcmVzc2VkID0gZmFsc2U7XG4gIH1cbn07XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGtleURvd25IYW5kbGVyLCBmYWxzZSk7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwga2V5VXBIYW5kbGVyLCBmYWxzZSk7XG5cbmNvbnN0IGRyYXdIb3Jpem9uID0gKCkgPT4ge1xuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5yZWN0KC0xMDAwLCB5LCAyMDAwLCAxNTAwKTtcblxuICBjdHguZmlsbFN0eWxlID0gXCIjZThlMmE0XCI7XG4gIGN0eC5maWxsKCk7XG4gIGN0eC5jbG9zZVBhdGgoKTtcbn07XG5cbmNvbnN0IGRyYXdSb3RhdGlvbiA9ICgpID0+IHtcbiAgY3R4LmZvbnQgPSBcIjE2cHggQXJpYWxcIjtcbiAgY3R4LmZpbGxTdHlsZSA9IFwiIzAwOTVERFwiO1xuICBjdHguZmlsbFRleHQoXCJSb3RhdGlvbjogXCIgKyByb3RhdGlvbiwgMSwgMSk7XG59O1xuXG5jb25zdCByb3RhdGVDYW0gPSAobnVtKSA9PiB7XG4gIGlmIChudW0gPCAxMDAgJiYgbnVtID4gMCkge1xuICAgIHJldHVybiBjdHgucm90YXRlKChNYXRoLlBJIC8gMTgwKSAqIDAuMDUpO1xuICB9IGVsc2UgaWYgKG51bSA+IC0xMDAgJiYgbnVtIDwgMCkge1xuICAgIHJldHVybiBjdHgucm90YXRlKChNYXRoLlBJIC8gMTgwKSAqIC0wLjA1KTtcbiAgfVxufTtcblxuY29uc3QgZHJhd0JpcmQgPSAoKSA9PiB7XG4gIGN0eC5zYXZlKCk7XG4gIFxuICBjdHgudHJhbnNsYXRlKDAsIDE1MCk7XG4gIGN0eC5yb3RhdGUoKE1hdGguUEkgLyAxODApICogLSgocm90YXRpb24gKiAwLjUgKSAvIDQpKTtcblxuICAvLyBjdHguc2hhZG93Qmx1ciA9IDUwO1xuICAvLyBjdHguc2hhZG93Q29sb3IgPSAnYmxhY2snO1xuICAvLyBjdHguc2hhZG93T2Zmc2V0WSA9IDgwO1xuXG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LnJlY3QoLTYwLCAtMTAsIDEyMCwgMjApO1xuICBjdHguZmlsbFN0eWxlID0gXCJibHVlXCI7XG4gIGN0eC5maWxsKCk7XG4gIGN0eC5jbG9zZVBhdGgoKTtcbiAgXG4gIFxuICBjdHgucmVzdG9yZSgpO1xufTtcblxuY29uc3QgZHJhd0NhY3R1cyA9ICh4LCB5LCB3LCBoLCBjb2xvcikgPT4ge1xuICBjdHguc2F2ZSgpO1xuICAvLyBjb25zdCBwbGFjZSA9IC0zMCArIHg7XG4gIC8vIGNvbnN0IHdpZHRoID0gMjAgKyB3O1xuICAvLyBjb25zdCBoZWlnaHQgPSA2MCArIGg7XG4gIC8vIGNvbnN0IGdyb3dpbmdYID0gcGxhY2UgKyBnWDtcbiAgLy8gY29uc3QgZ3Jvd2luZ1kgPVxuICBjdHguYmVnaW5QYXRoKCk7XG4gIGN0eC5yZWN0KHgsIHksIHcsIGgpO1xuICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gIGN0eC5maWxsKCk7XG4gIGN0eC5jbG9zZVBhdGgoKTtcbiAgY3R4LnJlc3RvcmUoKTtcbn07XG5cbmNvbnN0IHNwYXduQ2FjdGkgPSAoKSA9PiB7XG4gIGxldCB4ID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiA2NDApICogKE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSkgPyAxIDogLTEpO1xuICBsZXQgY29sb3IgPSBjYWN0aUNvbG9yc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjYWN0aUNvbG9ycy5sZW5ndGgpXTtcbiAgY2FjdGkudW5zaGlmdCh7XG4gICAgeDogeCxcbiAgICB5OiAtMTAwLFxuICAgIHdpZHRoOiAyMCxcbiAgICBoZWlnaHQ6IDEwMCxcbiAgICBjb2xvcjogY29sb3IsXG4gICAgaEluaXRpYWw6IDAsXG4gICAgeU9yZDogMFxuICB9KTtcbn07XG5cbmNvbnN0IGRyYXdDbG91ZHMgPSAoKSA9PiB7XG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LmFyYyhjbG91ZDEuc2VjMSwgLTIwMCwgNTAsIDAsIDIgKiBNYXRoLlBJKTtcbiAgY3R4LmFyYyhjbG91ZDEuc2VjMiwgLTE3MCwgNDAsIDAsIDIgKiBNYXRoLlBJKTtcbiAgY3R4LmFyYyhjbG91ZDEuc2VjMywgLTE1MCwgMzAsIDAsIDIgKiBNYXRoLlBJKTtcbiAgY3R4LmZpbGxTdHlsZSA9IFwiI2FkZDZkOFwiO1xuICBjdHguZmlsbCgpO1xuXG4gIGN0eC5iZWdpblBhdGgoKTtcbiAgY3R4LmFyYyhjbG91ZDIuc2VjMSwgLTcwLCA0MCwgMCwgMiAqIE1hdGguUEkpO1xuICBjdHguYXJjKGNsb3VkMi5zZWMyLCAtMTAwLCA0MCwgMCwgMiAqIE1hdGguUEkpO1xuICBjdHguYXJjKGNsb3VkMi5zZWMzLCAtODAsIDUwLCAwLCAyICogTWF0aC5QSSk7XG4gIGN0eC5maWxsU3R5bGUgPSBcIiNhZGQ2ZDhcIjtcbiAgY3R4LmZpbGwoKTtcbn07XG5cbmNvbnN0IG1vdmVDbG91ZHMgPSAobnVtKSA9PiB7XG4gIGZvciAoY29uc3Qgc2VjdGlvbiBpbiBjbG91ZDEpIHtcbiAgICBjbG91ZDFbc2VjdGlvbl0gKz0gbnVtO1xuICB9XG4gIGZvciAoY29uc3Qgc2VjdGlvbiBpbiBjbG91ZDIpIHtcbiAgICBjbG91ZDJbc2VjdGlvbl0gKz0gbnVtO1xuICB9XG59O1xuXG5jb25zdCBmaWx0ZXJDYWN0aSA9ICgpID0+IHtcbiAgY2FjdGkgPSBjYWN0aS5maWx0ZXIoY2FjdHVzID0+IChjYWN0dXMud2lkdGggPCA2NSkpO1xufTtcblxuY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcbiAgY3R4LmNsZWFyUmVjdCgtMTAwMCwgLTEwMDAsIDIwMDAsIDIwMDApO1xuICBmaWx0ZXJDYWN0aSgpO1xuICBkcmF3SG9yaXpvbigpO1xuICBkcmF3Q2xvdWRzKCk7XG4gIGRyYXdSb3RhdGlvbigpO1xuICBkcmF3QmlyZCgpO1xuXG4gIC8vY2FjdHVzIHNwYXduIGZyZXF1ZW5jeVxuICBpZiAoY291bnRlciA9PT0gMjApIHtcbiAgICBzcGF3bkNhY3RpKCk7XG4gICAgY291bnRlciA9IDA7XG4gIH1cblxuXG4gIGNhY3RpLmZvckVhY2goY2FjdHVzID0+IHtcbiAgICBjYWN0dXMueCArPSB0dXJuWDtcbiAgICBsZXQgaCA9IGNhY3R1cy5oZWlnaHQ7XG4gICAgaWYgKGNhY3R1cy5oSW5pdGlhbCA8IGNhY3R1cy5oZWlnaHQpIHtcbiAgICAgIGNhY3R1cy5oSW5pdGlhbCArPSAxO1xuICAgICAgaCA9IGNhY3R1cy5oSW5pdGlhbDtcbiAgICAgIGNhY3R1cy55T3JkIC09IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhY3R1cy55T3JkICs9IDAuMzk7XG4gICAgICBjYWN0dXMueSArPSAwLjM5O1xuICAgICAgY2FjdHVzLndpZHRoICs9IGNhY3R1cy53aWR0aCAqIDAuMDAxNDtcbiAgICAgIGNhY3R1cy5oZWlnaHQgKz0gY2FjdHVzLmhlaWdodCAqIDAuMDAxNDtcbiAgICAgIC8vIGNhY3R1cy5oZWlnaHQgKj0gMS4wMDE0O1xuICAgICAgY2FjdHVzLmhJbml0aWFsID0gY2FjdHVzLmhlaWdodDtcbiAgICB9XG5cbiAgICAvL2NhY3R1cyByZW1vdmFsIGFuaW1hdGlvbiBhbmQgeU9yZCBzcGVlZCBjb250cm9sXG4gICAgaWYgKGNhY3R1cy53aWR0aCA+IDUwKSB7XG4gICAgICBjYWN0dXMueU9yZCArPSAxO1xuICAgICAgY2FjdHVzLmhlaWdodCAtPSAxO1xuICAgIH0gZWxzZSBpZiAoY2FjdHVzLndpZHRoID4gMjcpIHtcbiAgICAgIGNhY3R1cy55T3JkICs9IDE7XG4gICAgICAvLyBjYWN0dXMuY29sb3IgPSBcImJsYWNrXCI7XG4gICAgfSBlbHNlIGlmIChjYWN0dXMud2lkdGggPiAyMykge1xuICAgICAgY2FjdHVzLnlPcmQgKz0gMC41O1xuICAgICAgLy8gY2FjdHVzLmNvbG9yID0gXCJyZWRcIjtcbiAgICB9XG5cbiAgICBpZiAoY2FjdHVzLnkgPiAwKSB7XG4gICAgICBjYWN0dXMuY29sb3IgPSBcInJlZFwiO1xuICAgIH1cblxuICAgIC8vIGNhY3R1cyBwYXRoIGNoYW5nZSB0byBhY2NvdW50IGZvciBwZXJzcGVjdGl2ZVxuICAgIGlmIChjYWN0dXMueSA+IC05MCkge1xuICAgICAgaWYgKGNhY3R1cy54ID4gMTAwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuNTU7XG4gICAgICB9IGVsc2UgaWYgKGNhY3R1cy54IDwgLTEwMCkge1xuICAgICAgICBjYWN0dXMueCAtPSAwLjU1O1xuICAgICAgfSBlbHNlIGlmIChjYWN0dXMueCA+IDYwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuMjtcbiAgICAgIH0gZWxzZSBpZiAoY2FjdHVzLnggPCAtNjApIHtcbiAgICAgICAgY2FjdHVzLnggLT0gMC4yO1xuICAgICAgfSBlbHNlIGlmIChjYWN0dXMueCA+IDgwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuNDtcbiAgICAgIH0gZWxzZSBpZiAoY2FjdHVzLnggPCAtODApIHtcbiAgICAgICAgY2FjdHVzLnggLT0gMC40O1xuICAgICAgfSBlbHNlIGlmIChjYWN0dXMueCA+IDQwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuMTtcbiAgICAgIH0gZWxzZSBpZiAoY2FjdHVzLnggPCAtNDApIHtcbiAgICAgICAgY2FjdHVzLnggLT0gMC4xO1xuICAgICAgfSBlbHNlIGlmIChjYWN0dXMueCA+IDIwKSB7XG4gICAgICAgIGNhY3R1cy54ICs9IDAuMDU7XG4gICAgICB9IGVsc2UgaWYgKGNhY3R1cy54IDwgLTIwKSB7XG4gICAgICAgIGNhY3R1cy54IC09IDAuMDU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IGNhY3R1c0hpdCA9IGNhY3R1cy55ICsgKCBoIC8gNiApO1xuXG4gICAgaWYgKChjYWN0dXNIaXQgPiAtMTAgJiYgY2FjdHVzSGl0IDwgMTApICYmIChjYWN0dXMueCA+IC02MCAmJiBjYWN0dXMueCA8IDYwKSkge1xuICAgICAgY2FjdHVzLmNvbG9yID0gXCJwdXJwbGVcIjtcbiAgICB9XG5cbiAgICBkcmF3Q2FjdHVzKGNhY3R1cy54LCBjYWN0dXMueU9yZCwgY2FjdHVzLndpZHRoLCBoLCBjYWN0dXMuY29sb3IpO1xuICB9KTtcbiAgXG4gIGlmIChsZWZ0UHJlc3NlZCkge1xuICAgIGlmICh0dXJuWCA8PSAwKSAge1xuICAgICAgdHVyblggKz0gMC4wNzU7XG4gICAgfSBlbHNlIGlmICh0dXJuWCA+IDAgJiYgdHVyblggPCAxLjcpIHtcbiAgICAgIHR1cm5YICs9IDAuMDM1O1xuICAgIH1cbiAgICBtb3ZlQ2xvdWRzKDAuNjEpOyAvL2NoYW5nZSB2YWx1ZSB0byBzaGlmdCBjbG91ZCB4IHBvc2l0aW9uICBcbiAgICBpZiAocm90YXRpb24gPCAxMDAgJiYgcm90YXRpb24gPj0gMCkge1xuICAgICAgcm90YXRpb24gKz0gMTtcbiAgICAgIHJvdGF0ZUNhbShyb3RhdGlvbik7XG4gICAgfSBlbHNlIGlmIChyb3RhdGlvbiA8IDApIHtcbiAgICAgIHJvdGF0aW9uICs9IDE7XG4gICAgICBjdHgucm90YXRlKChNYXRoLlBJIC8gMTgwKSAqIDAuMDUpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChyaWdodFByZXNzZWQpIHtcbiAgICBpZiAodHVyblggPj0gMCkge1xuICAgICAgdHVyblggLT0gMC4wNTU7XG4gICAgfSBlbHNlIGlmICh0dXJuWCA8IDAgJiYgdHVyblggPiAtMS43KSB7XG4gICAgICB0dXJuWCAtPSAwLjM1O1xuICAgIH1cbiAgICBtb3ZlQ2xvdWRzKC0wLjYxKTsgLy9jaGFuZ2UgdmFsdWUgdG8gc2hpZnQgY2xvdWQgeCBwb3NpdGlvbiBcbiAgICBpZiAocm90YXRpb24gPiAtMTAwICYmIHJvdGF0aW9uIDw9IDApIHtcbiAgICAgIHJvdGF0aW9uIC09IDE7XG4gICAgICByb3RhdGVDYW0ocm90YXRpb24pO1xuICAgIH0gZWxzZSBpZiAocm90YXRpb24gPiAwKSB7XG4gICAgICByb3RhdGlvbiAtPSAxO1xuICAgICAgY3R4LnJvdGF0ZSgoTWF0aC5QSSAvIDE4MCkgKiAtMC4wNSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChyb3RhdGlvbiA+IDApIHtcbiAgICAgIHJvdGF0aW9uIC09IDE7XG4gICAgICBjdHgucm90YXRlKChNYXRoLlBJIC8gMTgwKSAqIC0wLjA1KTtcbiAgICB9IGVsc2UgaWYgKHJvdGF0aW9uIDwgMCkge1xuICAgICAgcm90YXRpb24gKz0gMTtcbiAgICAgIGN0eC5yb3RhdGUoKE1hdGguUEkgLyAxODApICogMC4wNSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHR1cm5YID0gMDtcbiAgICB9XG4gIH1cbiAgY291bnRlciArPSAxO1xufTtcblxuXG5zZXRJbnRlcnZhbChhbmltYXRlLCAxMCk7XG5cbiAgICAvL29uIGtleWRvd24gdGhlIGhvcml6b24gcm90YXRlcyB0byBhIGNlcnRhaW4gcG9pbnRcbiAgICAvL29uIGtleXVwIHRoZSBob3Jpem9uIHJldHVybnMgdG8gaXRzIGluaXRpYWwgc3RhdGVcbiAgICAvL2FzIHRoZSBob3Jpem9uIHNoaWZ0cyBlbmVteSBlbGVtZW50cy9vYnN0YWNsZXMgc2hpZnQgdG9vXG4gICAgLy90aGV5IGFsc28gYWRkIG9yIGRlY3JlYXNlIHRoZWlyIHggcG9zaXRpb24gZGVwZW5kaW5nIG9uIHRoZSBrZXkgZGlyZWN0aW9uXG5cbiAgICAvL3ZhcmlhYmxlIGZvciB0aW1lIGVsYXBzZWQgPT09IGhpZ2ggc2NvcmVcbiAgICAvL2hpZ2ggc2NvcmUgc2F2ZWQgYW5kIGRpc3BsYXllZFxuXG5cbiJdLCJzb3VyY2VSb290IjoiIn0=